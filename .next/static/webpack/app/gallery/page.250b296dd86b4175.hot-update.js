"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/gallery/page",{

/***/ "(app-pages-browser)/./node_modules/@auth0/auth0-react/dist/auth0-react.esm.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@auth0/auth0-react/dist/auth0-react.esm.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Auth0Context: function() { return /* binding */ Auth0Context; },\n/* harmony export */   Auth0Provider: function() { return /* binding */ Auth0Provider; },\n/* harmony export */   AuthenticationError: function() { return /* binding */ d; },\n/* harmony export */   GenericError: function() { return /* binding */ u; },\n/* harmony export */   InMemoryCache: function() { return /* binding */ P; },\n/* harmony export */   LocalStorageCache: function() { return /* binding */ C; },\n/* harmony export */   MfaRequiredError: function() { return /* binding */ m; },\n/* harmony export */   MissingRefreshTokenError: function() { return /* binding */ f; },\n/* harmony export */   OAuthError: function() { return /* binding */ OAuthError; },\n/* harmony export */   PopupCancelledError: function() { return /* binding */ p; },\n/* harmony export */   PopupTimeoutError: function() { return /* binding */ h; },\n/* harmony export */   TimeoutError: function() { return /* binding */ l; },\n/* harmony export */   User: function() { return /* binding */ ie; },\n/* harmony export */   initialContext: function() { return /* binding */ initialContext; },\n/* harmony export */   useAuth0: function() { return /* binding */ useAuth0; },\n/* harmony export */   withAuth0: function() { return /* binding */ withAuth0; },\n/* harmony export */   withAuthenticationRequired: function() { return /* binding */ withAuthenticationRequired; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nfunction e(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]]);}return i}\"function\"==typeof SuppressedError&&SuppressedError;var t=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof __webpack_require__.g?__webpack_require__.g:\"undefined\"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}var n=o((function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,i){var o=e.locked.get(t);void 0===o?void 0===i?e.locked.set(t,[]):e.locked.set(t,[i]):void 0!==i&&(o.unshift(i),e.locked.set(t,o));},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(i,o){e.isLocked(t)?e.addToLocked(t,i):(e.addToLocked(t),i());}))},this.unlock=function(t){var i=e.locked.get(t);if(void 0!==i&&0!==i.length){var o=i.pop();e.locked.set(t,i),void 0!==o&&setTimeout(o,0);}else e.locked.delete(t);};}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return i.getInstance()};}));i(n);var a=i(o((function(e,i){var o=t&&t.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(n,a){function r(e){try{c(o.next(e));}catch(e){a(e);}}function s(e){try{c(o.throw(e));}catch(e){a(e);}}function c(e){e.done?n(e.value):new i((function(t){t(e.value);})).then(r,s);}c((o=o.apply(e,t||[])).next());}))},a=t&&t.__generator||function(e,t){var i,o,n,a,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(i)throw new TypeError(\"Generator is already executing.\");for(;r;)try{if(i=1,o&&(n=2&a[0]?o.return:a[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,a[1])).done)return n;switch(o=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(n=r.trys,(n=n.length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){r.label=a[1];break}if(6===a[0]&&r.label<n[1]){r.label=n[1],n=a;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(a);break}n[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r);}catch(e){a=[6,e],o=0;}finally{i=n=0;}if(5&a[0])throw a[1];return {value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},r=t;Object.defineProperty(i,\"__esModule\",{value:!0});var s=\"browser-tabs-lock-key\",c={key:function(e){return o(r,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},getItem:function(e){return o(r,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},clear:function(){return o(r,void 0,void 0,(function(){return a(this,(function(e){return [2,window.localStorage.clear()]}))}))},removeItem:function(e){return o(r,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},setItem:function(e,t){return o(r,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},keySync:function(e){return window.localStorage.key(e)},getItemSync:function(e){return window.localStorage.getItem(e)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(e){return window.localStorage.removeItem(e)},setItemSync:function(e,t){return window.localStorage.setItem(e,t)}};function u(e){return new Promise((function(t){return setTimeout(t,e)}))}function d(e){for(var t=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz\",i=\"\",o=0;o<e;o++){i+=t[Math.floor(Math.random()*t.length)];}return i}var l=function(){function e(t){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+d(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=t,void 0===e.waiters&&(e.waiters=[]);}return e.prototype.acquireLock=function(t,i){return void 0===i&&(i=5e3),o(this,void 0,void 0,(function(){var o,n,r,l,h,p,m;return a(this,(function(a){switch(a.label){case 0:o=Date.now()+d(4),n=Date.now()+i,r=s+\"-\"+t,l=void 0===this.storageHandler?c:this.storageHandler,a.label=1;case 1:return Date.now()<n?[4,u(30)]:[3,8];case 2:return a.sent(),null!==l.getItemSync(r)?[3,5]:(h=this.id+\"-\"+t+\"-\"+o,[4,u(Math.floor(25*Math.random()))]);case 3:return a.sent(),l.setItemSync(r,JSON.stringify({id:this.id,iat:o,timeoutKey:h,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,u(30)];case 4:return a.sent(),null!==(p=l.getItemSync(r))&&(m=JSON.parse(p)).id===this.id&&m.iat===o?(this.acquiredIatSet.add(o),this.refreshLockWhileAcquired(r,o),[2,!0]):[3,7];case 5:return e.lockCorrector(void 0===this.storageHandler?c:this.storageHandler),[4,this.waitForSomethingToChange(n)];case 6:a.sent(),a.label=7;case 7:return o=Date.now()+d(4),[3,1];case 8:return [2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return o(this,void 0,void 0,(function(){var i=this;return a(this,(function(r){return setTimeout((function(){return o(i,void 0,void 0,(function(){var i,o,r;return a(this,(function(a){switch(a.label){case 0:return [4,n.default().lock(t)];case 1:return a.sent(),this.acquiredIatSet.has(t)?(i=void 0===this.storageHandler?c:this.storageHandler,null===(o=i.getItemSync(e))?(n.default().unlock(t),[2]):((r=JSON.parse(o)).timeRefreshed=Date.now(),i.setItemSync(e,JSON.stringify(r)),n.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(n.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return [4,new Promise((function(i){var o=!1,n=Date.now(),a=!1;function r(){if(a||(window.removeEventListener(\"storage\",r),e.removeFromWaiting(r),clearTimeout(s),a=!0),!o){o=!0;var t=50-(Date.now()-n);t>0?setTimeout(i,t):i(null);}}window.addEventListener(\"storage\",r),e.addToWaiting(r);var s=setTimeout(r,Math.max(0,t-Date.now()));}))];case 1:return i.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t);},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})));},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}));},e.prototype.releaseLock=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return [4,this.releaseLock__private__(e)];case 1:return [2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return o(this,void 0,void 0,(function(){var i,o,r,u;return a(this,(function(a){switch(a.label){case 0:return i=void 0===this.storageHandler?c:this.storageHandler,o=s+\"-\"+t,null===(r=i.getItemSync(o))?[2]:(u=JSON.parse(r)).id!==this.id?[3,2]:[4,n.default().lock(u.iat)];case 1:a.sent(),this.acquiredIatSet.delete(u.iat),i.removeItemSync(o),n.default().unlock(u.iat),e.notifyWaiters(),a.label=2;case 2:return [2]}}))}))},e.lockCorrector=function(t){for(var i=Date.now()-5e3,o=t,n=[],a=0;;){var r=o.keySync(a);if(null===r)break;n.push(r),a++;}for(var c=!1,u=0;u<n.length;u++){var d=n[u];if(d.includes(s)){var l=o.getItemSync(d);if(null!==l){var h=JSON.parse(l);(void 0===h.timeRefreshed&&h.timeAcquired<i||void 0!==h.timeRefreshed&&h.timeRefreshed<i)&&(o.removeItemSync(d),c=!0);}}}c&&e.notifyWaiters();},e.waiters=void 0,e}();i.default=l;})));const r={timeoutInSeconds:60},s={name:\"auth0-spa-js\",version:\"2.3.0\"},c=()=>Date.now();class u extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,u.prototype);}static fromPayload({error:e,error_description:t}){return new u(e,t)}}class d extends u{constructor(e,t,i,o=null){super(e,t),this.state=i,this.appState=o,Object.setPrototypeOf(this,d.prototype);}}class l extends u{constructor(){super(\"timeout\",\"Timeout\"),Object.setPrototypeOf(this,l.prototype);}}class h extends l{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,h.prototype);}}class p extends u{constructor(e){super(\"cancelled\",\"Popup closed\"),this.popup=e,Object.setPrototypeOf(this,p.prototype);}}class m extends u{constructor(e,t,i){super(e,t),this.mfa_token=i,Object.setPrototypeOf(this,m.prototype);}}class f extends u{constructor(e,t){super(\"missing_refresh_token\",`Missing Refresh Token (audience: '${g(e,[\"default\"])}', scope: '${g(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,f.prototype);}}function g(e,t=[]){return e&&!t.includes(e)?e:\"\"}const w=()=>window.crypto,y=()=>{const e=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.\";let t=\"\";return Array.from(w().getRandomValues(new Uint8Array(43))).forEach((i=>t+=e[i%e.length])),t},k=e=>btoa(e),v=t=>{var{clientId:i}=t,o=e(t,[\"clientId\"]);return new URLSearchParams((e=>Object.keys(e).filter((t=>void 0!==e[t])).reduce(((t,i)=>Object.assign(Object.assign({},t),{[i]:e[i]})),{}))(Object.assign({client_id:i},o))).toString()},b=e=>(e=>decodeURIComponent(atob(e).split(\"\").map((e=>\"%\"+(\"00\"+e.charCodeAt(0).toString(16)).slice(-2))).join(\"\")))(e.replace(/_/g,\"/\").replace(/-/g,\"+\")),_=async(e,t)=>{const i=await fetch(e,t);return {ok:i.ok,json:await i.json()}},I=async(e,t,i)=>{const o=new AbortController;let n;return t.signal=o.signal,Promise.race([_(e,t),new Promise(((e,t)=>{n=setTimeout((()=>{o.abort(),t(new Error(\"Timeout when executing 'fetch'\"));}),i);}))]).finally((()=>{clearTimeout(n);}))},S=async(e,t,i,o,n,a,r)=>{return s={auth:{audience:t,scope:i},timeout:n,fetchUrl:e,fetchOptions:o,useFormData:r},c=a,new Promise((function(e,t){const i=new MessageChannel;i.port1.onmessage=function(o){o.data.error?t(new Error(o.data.error)):e(o.data),i.port1.close();},c.postMessage(s,[i.port2]);}));var s,c;},O=async(e,t,i,o,n,a,r=1e4)=>n?S(e,t,i,o,r,n,a):I(e,o,r);async function T(t,i){var{baseUrl:o,timeout:n,audience:a,scope:r,auth0Client:c,useFormData:d}=t,l=e(t,[\"baseUrl\",\"timeout\",\"audience\",\"scope\",\"auth0Client\",\"useFormData\"]);const h=\"urn:ietf:params:oauth:grant-type:token-exchange\"===l.grant_type,p=Object.assign(Object.assign(Object.assign({},l),h&&a&&{audience:a}),h&&r&&{scope:r}),g=d?v(p):JSON.stringify(p);return await async function(t,i,o,n,a,r,s){let c,d=null;for(let e=0;e<3;e++)try{c=await O(t,o,n,a,r,s,i),d=null;break}catch(e){d=e;}if(d)throw d;const l=c.json,{error:h,error_description:p}=l,g=e(l,[\"error\",\"error_description\"]),{ok:w}=c;if(!w){const e=p||`HTTP error. Unable to fetch ${t}`;if(\"mfa_required\"===h)throw new m(h,e,g.mfa_token);if(\"missing_refresh_token\"===h)throw new f(o,n);throw new u(h||\"request_error\",e)}return g}(`${o}/oauth/token`,n,a||\"default\",r,{method:\"POST\",body:g,headers:{\"Content-Type\":d?\"application/x-www-form-urlencoded\":\"application/json\",\"Auth0-Client\":btoa(JSON.stringify(c||s))}},i,d)}const j=(...e)=>{return (t=e.filter(Boolean).join(\" \").trim().split(/\\s+/),Array.from(new Set(t))).join(\" \");var t;};class z{constructor(e,t=\"@@auth0spajs@@\",i){this.prefix=t,this.suffix=i,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience;}toKey(){return [this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join(\"::\")}static fromKey(e){const[t,i,o,n]=e.split(\"::\");return new z({clientId:i,scope:n,audience:o},t)}static fromCacheEntry(e){const{scope:t,audience:i,client_id:o}=e;return new z({scope:t,audience:i,clientId:o})}}class C{set(e,t){localStorage.setItem(e,JSON.stringify(t));}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return}}remove(e){localStorage.removeItem(e);}allKeys(){return Object.keys(window.localStorage).filter((e=>e.startsWith(\"@@auth0spajs@@\")))}}class P{constructor(){this.enclosedCache=function(){let e={};return {set(t,i){e[t]=i;},get(t){const i=e[t];if(i)return i},remove(t){delete e[t];},allKeys:()=>Object.keys(e)}}();}}class x{constructor(e,t,i){this.cache=e,this.keyManifest=t,this.nowProvider=i||c;}async setIdToken(e,t,i){var o;const n=this.getIdTokenCacheKey(e);await this.cache.set(n,{id_token:t,decodedToken:i}),await(null===(o=this.keyManifest)||void 0===o?void 0:o.add(n));}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const t=await this.get(e);if(!t)return;if(!t.id_token||!t.decodedToken)return;return {id_token:t.id_token,decodedToken:t.decodedToken}}if(t)return {id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0){var i;let o=await this.cache.get(e.toKey());if(!o){const t=await this.getCacheKeys();if(!t)return;const i=this.matchExistingCacheKey(e,t);i&&(o=await this.cache.get(i));}if(!o)return;const n=await this.nowProvider(),a=Math.floor(n/1e3);return o.expiresAt-t<a?o.body.refresh_token?(o.body={refresh_token:o.body.refresh_token},await this.cache.set(e.toKey(),o),o.body):(await this.cache.remove(e.toKey()),void await(null===(i=this.keyManifest)||void 0===i?void 0:i.remove(e.toKey()))):o.body}async set(e){var t;const i=new z({clientId:e.client_id,scope:e.scope,audience:e.audience}),o=await this.wrapCacheEntry(e);await this.cache.set(i.toKey(),o),await(null===(t=this.keyManifest)||void 0===t?void 0:t.add(i.toKey()));}async clear(e){var t;const i=await this.getCacheKeys();i&&(await i.filter((t=>!e||t.includes(e))).reduce((async(e,t)=>{await e,await this.cache.remove(t);}),Promise.resolve()),await(null===(t=this.keyManifest)||void 0===t?void 0:t.clear()));}async wrapCacheEntry(e){const t=await this.nowProvider();return {body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?null===(e=await this.keyManifest.get())||void 0===e?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new z({clientId:e},\"@@auth0spajs@@\",\"@@user@@\").toKey()}matchExistingCacheKey(e,t){return t.filter((t=>{var i;const o=z.fromKey(t),n=new Set(o.scope&&o.scope.split(\" \")),a=(null===(i=e.scope)||void 0===i?void 0:i.split(\" \"))||[],r=o.scope&&a.reduce(((e,t)=>e&&n.has(t)),!0);return \"@@auth0spajs@@\"===o.prefix&&o.clientId===e.clientId&&o.audience===e.audience&&r}))[0]}}class Z{constructor(e,t,i){this.storage=e,this.clientId=t,this.cookieDomain=i,this.storageKey=`a0.spajs.txs.${this.clientId}`;}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain});}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain});}}const K=e=>\"number\"==typeof e,W=[\"iss\",\"aud\",\"exp\",\"nbf\",\"iat\",\"jti\",\"azp\",\"nonce\",\"auth_time\",\"at_hash\",\"c_hash\",\"acr\",\"amr\",\"sub_jwk\",\"cnf\",\"sip_from_tag\",\"sip_date\",\"sip_callid\",\"sip_cseq_num\",\"sip_via_branch\",\"orig\",\"dest\",\"mky\",\"events\",\"toe\",\"txn\",\"rph\",\"sid\",\"vot\",\"vtm\"],E=e=>{if(!e.id_token)throw new Error(\"ID token is required but missing\");const t=(e=>{const t=e.split(\".\"),[i,o,n]=t;if(3!==t.length||!i||!o||!n)throw new Error(\"ID token could not be decoded\");const a=JSON.parse(b(o)),r={__raw:e},s={};return Object.keys(a).forEach((e=>{r[e]=a[e],W.includes(e)||(s[e]=a[e]);})),{encoded:{header:i,payload:o,signature:n},header:JSON.parse(b(i)),claims:r,user:s}})(e.id_token);if(!t.claims.iss)throw new Error(\"Issuer (iss) claim must be a string present in the ID token\");if(t.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected \"${e.iss}\", found \"${t.claims.iss}\"`);if(!t.user.sub)throw new Error(\"Subject (sub) claim must be a string present in the ID token\");if(\"RS256\"!==t.header.alg)throw new Error(`Signature algorithm of \"${t.header.alg}\" is not supported. Expected the ID token to be signed with \"RS256\".`);if(!t.claims.aud||\"string\"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error(\"Audience (aud) claim must be a string or array of strings present in the ID token\");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected \"${e.aud}\" but was not one of \"${t.claims.aud.join(\", \")}\"`);if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error(\"Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values\");if(t.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected \"${e.aud}\", found \"${t.claims.azp}\"`)}}else if(t.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected \"${e.aud}\" but found \"${t.claims.aud}\"`);if(e.nonce){if(!t.claims.nonce)throw new Error(\"Nonce (nonce) claim must be a string present in the ID token\");if(t.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected \"${e.nonce}\", found \"${t.claims.nonce}\"`)}if(e.max_age&&!K(t.claims.auth_time))throw new Error(\"Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified\");if(null==t.claims.exp||!K(t.claims.exp))throw new Error(\"Expiration Time (exp) claim must be a number present in the ID token\");if(!K(t.claims.iat))throw new Error(\"Issued At (iat) claim must be a number present in the ID token\");const i=e.leeway||60,o=new Date(e.now||Date.now()),n=new Date(0);if(n.setUTCSeconds(t.claims.exp+i),o>n)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${o}) is after expiration time (${n})`);if(null!=t.claims.nbf&&K(t.claims.nbf)){const e=new Date(0);if(e.setUTCSeconds(t.claims.nbf-i),o<e)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${o}) is before ${e}`)}if(null!=t.claims.auth_time&&K(t.claims.auth_time)){const n=new Date(0);if(n.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+i),o>n)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${o}) is after last auth at ${n}`)}if(e.organization){const i=e.organization.trim();if(i.startsWith(\"org_\")){const e=i;if(!t.claims.org_id)throw new Error(\"Organization ID (org_id) claim must be a string present in the ID token\");if(e!==t.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected \"${e}\", found \"${t.claims.org_id}\"`)}else {const e=i.toLowerCase();if(!t.claims.org_name)throw new Error(\"Organization Name (org_name) claim must be a string present in the ID token\");if(e!==t.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected \"${e}\", found \"${t.claims.org_name}\"`)}}return t};var R=o((function(e,i){var o=t&&t.__assign||function(){return o=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o.apply(this,arguments)};function n(e,t){if(!t)return \"\";var i=\"; \"+e;return !0===t?i:i+\"=\"+t}function a(e,t,i){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\")+\"=\"+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if(\"number\"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t;}return n(\"Expires\",e.expires?e.expires.toUTCString():\"\")+n(\"Domain\",e.domain)+n(\"Path\",e.path)+n(\"Secure\",e.secure)+n(\"SameSite\",e.sameSite)}(i)}function r(e){for(var t={},i=e?e.split(\"; \"):[],o=/(%[\\dA-F]{2})+/gi,n=0;n<i.length;n++){var a=i[n].split(\"=\"),r=a.slice(1).join(\"=\");'\"'===r.charAt(0)&&(r=r.slice(1,-1));try{t[a[0].replace(o,decodeURIComponent)]=r.replace(o,decodeURIComponent);}catch(e){}}return t}function s(){return r(document.cookie)}function c(e,t,i){document.cookie=a(e,t,o({path:\"/\"},i));}i.__esModule=!0,i.encode=a,i.parse=r,i.getAll=s,i.get=function(e){return s()[e]},i.set=c,i.remove=function(e,t){c(e,\"\",o(o({},t),{expires:-1}));};}));i(R),R.encode,R.parse,R.getAll;var U=R.get,L=R.set,D=R.remove;const X={get(e){const t=U(e);if(void 0!==t)return JSON.parse(t)},save(e,t,i){let o={};\"https:\"===window.location.protocol&&(o={secure:!0,sameSite:\"none\"}),(null==i?void 0:i.daysUntilExpire)&&(o.expires=i.daysUntilExpire),(null==i?void 0:i.cookieDomain)&&(o.domain=i.cookieDomain),L(e,JSON.stringify(t),o);},remove(e,t){let i={};(null==t?void 0:t.cookieDomain)&&(i.domain=t.cookieDomain),D(e,i);}},N={get(e){const t=X.get(e);return t||X.get(`_legacy_${e}`)},save(e,t,i){let o={};\"https:\"===window.location.protocol&&(o={secure:!0}),(null==i?void 0:i.daysUntilExpire)&&(o.expires=i.daysUntilExpire),(null==i?void 0:i.cookieDomain)&&(o.domain=i.cookieDomain),L(`_legacy_${e}`,JSON.stringify(t),o),X.save(e,t,i);},remove(e,t){let i={};(null==t?void 0:t.cookieDomain)&&(i.domain=t.cookieDomain),D(e,i),X.remove(e,t),X.remove(`_legacy_${e}`,t);}},J={get(e){if(\"undefined\"==typeof sessionStorage)return;const t=sessionStorage.getItem(e);return null!=t?JSON.parse(t):void 0},save(e,t){sessionStorage.setItem(e,JSON.stringify(t));},remove(e){sessionStorage.removeItem(e);}};function F(e,t,i){var o=void 0===t?null:t,n=function(e,t){var i=atob(e);if(t){for(var o=new Uint8Array(i.length),n=0,a=i.length;n<a;++n)o[n]=i.charCodeAt(n);return String.fromCharCode.apply(null,new Uint16Array(o.buffer))}return i}(e,void 0!==i&&i),a=n.indexOf(\"\\n\",10)+1,r=n.substring(a)+(o?\"//# sourceMappingURL=\"+o:\"\"),s=new Blob([r],{type:\"application/javascript\"});return URL.createObjectURL(s)}var H,Y,G,V,M=(H=\"Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=\",Y=null,G=!1,function(e){return V=V||F(H,Y,G),new Worker(V,e)});const A={};class B{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId);}async add(e){var t;const i=new Set((null===(t=await this.cache.get(this.manifestKey))||void 0===t?void 0:t.keys)||[]);i.add(e),await this.cache.set(this.manifestKey,{keys:[...i]});}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const i=new Set(t.keys);return i.delete(e),i.size>0?await this.cache.set(this.manifestKey,{keys:[...i]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return `@@auth0spajs@@::${e}`}}const $={memory:()=>(new P).enclosedCache,localstorage:()=>new C},q=e=>$[e],Q=t=>{const{openUrl:i,onRedirect:o}=t,n=e(t,[\"openUrl\",\"onRedirect\"]);return Object.assign(Object.assign({},n),{openUrl:!1===i||i?i:o})},ee=new a;class te{constructor(e){let t,i;if(this.userCache=(new P).enclosedCache,this.defaultOptions={authorizationParams:{scope:\"openid profile email\"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await ee.releaseLock(\"auth0.lock.getTokenSilently\"),window.removeEventListener(\"pagehide\",this._releaseLockOnPageHide);},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),\"undefined\"!=typeof window&&(()=>{if(!w())throw new Error(\"For security reasons, `window.crypto` is required to run `auth0-spa-js`.\");if(void 0===w().subtle)throw new Error(\"\\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\\n    \")})(),e.cache&&e.cacheLocation&&console.warn(\"Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`.\"),e.cache)i=e.cache;else {if(t=e.cacheLocation||\"memory\",!q(t))throw new Error(`Invalid cache location \"${t}\"`);i=q(t)();}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===e.legacySameSiteCookie?X:N,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(e=>`auth0.${e}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const o=e.useCookiesForTransactions?this.cookieStorage:J;var n;this.scope=j(\"openid\",this.options.authorizationParams.scope,this.options.useRefreshTokens?\"offline_access\":\"\"),this.transactionManager=new Z(o,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||c,this.cacheManager=new x(i,i.allKeys?void 0:new B(i,this.options.clientId),this.nowProvider),this.domainUrl=(n=this.options.domain,/^https?:\\/\\//.test(n)?n:`https://${n}`),this.tokenIssuer=((e,t)=>e?e.startsWith(\"https://\")?e:`https://${e}/`:`${t}/`)(this.options.issuer,this.domainUrl),\"undefined\"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&\"memory\"===t&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new M);}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||s)));return `${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${v(e)}`)}async _verifyIdToken(e,t,i){const o=await this.nowProvider();return E({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:i,leeway:this.options.leeway,max_age:(n=this.options.authorizationParams.max_age,\"string\"!=typeof n?n:parseInt(n,10)||void 0),now:o});var n;}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain});}async _prepareAuthorizeUrl(e,t,i){const o=k(y()),n=k(y()),a=y(),r=(e=>{const t=new Uint8Array(e);return (e=>{const t={\"+\":\"-\",\"/\":\"_\",\"=\":\"\"};return e.replace(/[+/=]/g,(e=>t[e]))})(window.btoa(String.fromCharCode(...Array.from(t))))})(await(async e=>{const t=w().subtle.digest({name:\"SHA-256\"},(new TextEncoder).encode(e));return await t})(a)),s=((e,t,i,o,n,a,r,s)=>Object.assign(Object.assign(Object.assign({client_id:e.clientId},e.authorizationParams),i),{scope:j(t,i.scope),response_type:\"code\",response_mode:s||\"query\",state:o,nonce:n,redirect_uri:r||e.authorizationParams.redirect_uri,code_challenge:a,code_challenge_method:\"S256\"}))(this.options,this.scope,e,o,n,r,e.redirect_uri||this.options.authorizationParams.redirect_uri||i,null==t?void 0:t.response_mode),c=this._authorizeUrl(s);return {nonce:n,code_verifier:a,scope:s.scope,audience:s.audience||\"default\",redirect_uri:s.redirect_uri,state:o,url:c}}async loginWithPopup(e,t){var i;if(e=e||{},!(t=t||{}).popup&&(t.popup=(e=>{const t=window.screenX+(window.innerWidth-400)/2,i=window.screenY+(window.innerHeight-600)/2;return window.open(e,\"auth0:authorize:popup\",`left=${t},top=${i},width=400,height=600,resizable,scrollbars=yes,status=1`)})(\"\"),!t.popup))throw new Error(\"Unable to open a popup for loginWithPopup - window.open returned `null`\");const o=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:\"web_message\"},window.location.origin);t.popup.location.href=o.url;const n=await(e=>new Promise(((t,i)=>{let o;const n=setInterval((()=>{e.popup&&e.popup.closed&&(clearInterval(n),clearTimeout(a),window.removeEventListener(\"message\",o,!1),i(new p(e.popup)));}),1e3),a=setTimeout((()=>{clearInterval(n),i(new h(e.popup)),window.removeEventListener(\"message\",o,!1);}),1e3*(e.timeoutInSeconds||60));o=function(r){if(r.data&&\"authorization_response\"===r.data.type){if(clearTimeout(a),clearInterval(n),window.removeEventListener(\"message\",o,!1),e.popup.close(),r.data.response.error)return i(u.fromPayload(r.data.response));t(r.data.response);}},window.addEventListener(\"message\",o);})))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(o.state!==n.state)throw new u(\"state_mismatch\",\"Invalid state\");const a=(null===(i=e.authorizationParams)||void 0===i?void 0:i.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:o.audience,scope:o.scope,code_verifier:o.code_verifier,grant_type:\"authorization_code\",code:n.code,redirect_uri:o.redirect_uri},{nonceIn:o.nonce,organization:a});}async getUser(){var e;const t=await this._getIdTokenFromCache();return null===(e=null==t?void 0:t.decodedToken)||void 0===e?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return null===(e=null==t?void 0:t.decodedToken)||void 0===e?void 0:e.claims}async loginWithRedirect(t={}){var i;const o=Q(t),{openUrl:n,fragment:a,appState:r}=o,s=e(o,[\"openUrl\",\"fragment\",\"appState\"]),c=(null===(i=s.authorizationParams)||void 0===i?void 0:i.organization)||this.options.authorizationParams.organization,u=await this._prepareAuthorizeUrl(s.authorizationParams||{}),{url:d}=u,l=e(u,[\"url\"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},l),{appState:r}),c&&{organization:c}));const h=a?`${d}#${a}`:d;n?await n(h):window.location.assign(h);}async handleRedirectCallback(e=window.location.href){const t=e.split(\"?\").slice(1);if(0===t.length)throw new Error(\"There are no query params available for parsing.\");const{state:i,code:o,error:n,error_description:a}=(e=>{e.indexOf(\"#\")>-1&&(e=e.substring(0,e.indexOf(\"#\")));const t=new URLSearchParams(e);return {state:t.get(\"state\"),code:t.get(\"code\")||void 0,error:t.get(\"error\")||void 0,error_description:t.get(\"error_description\")||void 0}})(t.join(\"\")),r=this.transactionManager.get();if(!r)throw new u(\"missing_transaction\",\"Invalid state\");if(this.transactionManager.remove(),n)throw new d(n,a||n,i,r.appState);if(!r.code_verifier||r.state&&r.state!==i)throw new u(\"state_mismatch\",\"Invalid state\");const s=r.organization,c=r.nonce,l=r.redirect_uri;return await this._requestToken(Object.assign({audience:r.audience,scope:r.scope,code_verifier:r.code_verifier,grant_type:\"authorization_code\",code:o},l?{redirect_uri:l}:{}),{nonceIn:c,organization:s}),{appState:r.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get(\"auth0.is.authenticated\"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(\"auth0.is.authenticated\");}try{await this.getTokenSilently(e);}catch(e){}}async getTokenSilently(e={}){var t;const i=Object.assign(Object.assign({cacheMode:\"on\"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:j(this.scope,null===(t=e.authorizationParams)||void 0===t?void 0:t.scope)})}),o=await((e,t)=>{let i=A[t];return i||(i=e().finally((()=>{delete A[t],i=null;})),A[t]=i),i})((()=>this._getTokenSilently(i)),`${this.options.clientId}::${i.authorizationParams.audience}::${i.authorizationParams.scope}`);return e.detailedResponse?o:null==o?void 0:o.access_token}async _getTokenSilently(t){const{cacheMode:i}=t,o=e(t,[\"cacheMode\"]);if(\"off\"!==i){const e=await this._getEntryFromCache({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||\"default\",clientId:this.options.clientId});if(e)return e}if(\"cache-only\"!==i){if(!await(async(e,t=3)=>{for(let i=0;i<t;i++)if(await e())return !0;return !1})((()=>ee.acquireLock(\"auth0.lock.getTokenSilently\",5e3)),10))throw new l;try{if(window.addEventListener(\"pagehide\",this._releaseLockOnPageHide),\"off\"!==i){const e=await this._getEntryFromCache({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||\"default\",clientId:this.options.clientId});if(e)return e}const e=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(o):await this._getTokenFromIFrame(o),{id_token:t,access_token:n,oauthTokenScope:a,expires_in:r}=e;return Object.assign(Object.assign({id_token:t,access_token:n},a?{scope:a}:null),{expires_in:r})}finally{await ee.releaseLock(\"auth0.lock.getTokenSilently\"),window.removeEventListener(\"pagehide\",this._releaseLockOnPageHide);}}}async getTokenWithPopup(e={},t={}){var i;const o=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:j(this.scope,null===(i=e.authorizationParams)||void 0===i?void 0:i.scope)})});t=Object.assign(Object.assign({},r),t),await this.loginWithPopup(o,t);return (await this.cacheManager.get(new z({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||\"default\",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return !!await this.getUser()}_buildLogoutUrl(t){null!==t.clientId?t.clientId=t.clientId||this.options.clientId:delete t.clientId;const i=t.logoutParams||{},{federated:o}=i,n=e(i,[\"federated\"]),a=o?\"&federated\":\"\";return this._url(`/v2/logout?${v(Object.assign({clientId:t.clientId},n))}`)+a}async logout(t={}){const i=Q(t),{openUrl:o}=i,n=e(i,[\"openUrl\"]);null===t.clientId?await this.cacheManager.clear():await this.cacheManager.clear(t.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove(\"@@user@@\");const a=this._buildLogoutUrl(n);o?await o(a):!1!==o&&window.location.assign(a);}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:\"none\"}),i=this.cookieStorage.get(this.orgHintCookieName);i&&!t.organization&&(t.organization=i);const{url:o,state:n,nonce:a,code_verifier:r,redirect_uri:s,scope:c,audience:d}=await this._prepareAuthorizeUrl(t,{response_mode:\"web_message\"},window.location.origin);try{if(window.crossOriginIsolated)throw new u(\"login_required\",\"The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.\");const i=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds;let h;try{h=new URL(this.domainUrl).origin;}catch(e){h=this.domainUrl;}const p=await((e,t,i=60)=>new Promise(((o,n)=>{const a=window.document.createElement(\"iframe\");a.setAttribute(\"width\",\"0\"),a.setAttribute(\"height\",\"0\"),a.style.display=\"none\";const r=()=>{window.document.body.contains(a)&&(window.document.body.removeChild(a),window.removeEventListener(\"message\",s,!1));};let s;const c=setTimeout((()=>{n(new l),r();}),1e3*i);s=function(e){if(e.origin!=t)return;if(!e.data||\"authorization_response\"!==e.data.type)return;const i=e.source;i&&i.close(),e.data.response.error?n(u.fromPayload(e.data.response)):o(e.data.response),clearTimeout(c),window.removeEventListener(\"message\",s,!1),setTimeout(r,2e3);},window.addEventListener(\"message\",s,!1),window.document.body.appendChild(a),a.setAttribute(\"src\",e);})))(o,h,i);if(n!==p.state)throw new u(\"state_mismatch\",\"Invalid state\");const m=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:r,code:p.code,grant_type:\"authorization_code\",redirect_uri:s,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:t.organization});return Object.assign(Object.assign({},m),{scope:c,oauthTokenScope:m.scope,audience:d})}catch(e){throw \"login_required\"===e.error&&this.logout({openUrl:!1}),e}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new z({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||\"default\",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new f(e.authorizationParams.audience||\"default\",e.authorizationParams.scope)}const i=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,o=\"number\"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null;try{const n=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:\"refresh_token\",refresh_token:t&&t.refresh_token,redirect_uri:i}),o&&{timeout:o}));return Object.assign(Object.assign({},n),{scope:e.authorizationParams.scope,oauthTokenScope:n.scope,audience:e.authorizationParams.audience||\"default\"})}catch(t){if((t.message.indexOf(\"Missing Refresh Token\")>-1||t.message&&t.message.indexOf(\"invalid refresh token\")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw t}}async _saveEntryInCache(t){const{id_token:i,decodedToken:o}=t,n=e(t,[\"id_token\",\"decodedToken\"]);this.userCache.set(\"@@user@@\",{id_token:i,decodedToken:o}),await this.cacheManager.setIdToken(this.options.clientId,t.id_token,t.decodedToken),await this.cacheManager.set(n);}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||\"default\",t=await this.cacheManager.getIdToken(new z({clientId:this.options.clientId,audience:e,scope:this.scope})),i=this.userCache.get(\"@@user@@\");return t&&t.id_token===(null==i?void 0:i.id_token)?i:(this.userCache.set(\"@@user@@\",t),t)}async _getEntryFromCache({scope:e,audience:t,clientId:i}){const o=await this.cacheManager.get(new z({scope:e,audience:t,clientId:i}),60);if(o&&o.access_token){const{access_token:e,oauthTokenScope:t,expires_in:i}=o,n=await this._getIdTokenFromCache();return n&&Object.assign(Object.assign({id_token:n.id_token,access_token:e},t?{scope:t}:null),{expires_in:i})}}async _requestToken(e,t){const{nonceIn:i,organization:o}=t||{},n=await T(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),a=await this._verifyIdToken(n.id_token,i,o);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},n),{decodedToken:a,scope:e.scope,audience:e.audience||\"default\"}),n.scope?{oauthTokenScope:n.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(o||a.claims.org_id),Object.assign(Object.assign({},n),{decodedToken:a})}async exchangeToken(e){return this._requestToken({grant_type:\"urn:ietf:params:oauth:grant-type:token-exchange\",subject_token:e.subject_token,subject_token_type:e.subject_token_type,scope:j(e.scope,this.scope),audience:e.audience||this.options.authorizationParams.audience})}}class ie{}\n\n/**\n * The initial auth state.\n */\nvar initialAuthState = {\n    isAuthenticated: false,\n    isLoading: true,\n    error: undefined,\n    user: undefined,\n};\n\n/**\n * @ignore\n */\nvar stub = function () {\n    throw new Error('You forgot to wrap your component in <Auth0Provider>.');\n};\n/**\n * @ignore\n */\nvar initialContext = __assign(__assign({}, initialAuthState), { buildAuthorizeUrl: stub, buildLogoutUrl: stub, getAccessTokenSilently: stub, getAccessTokenWithPopup: stub, getIdTokenClaims: stub, loginWithRedirect: stub, loginWithPopup: stub, logout: stub, handleRedirectCallback: stub });\n/**\n * The Auth0 Context\n */\nvar Auth0Context = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(initialContext);\n\n/**\n * An OAuth2 error will come from the authorization server and will have at least an `error` property which will\n * be the error code. And possibly an `error_description` property\n *\n * See: https://openid.net/specs/openid-connect-core-1_0.html#rfc.section.3.1.2.6\n */\nvar OAuthError = /** @class */ (function (_super) {\n    __extends(OAuthError, _super);\n    function OAuthError(error, error_description) {\n        var _this = _super.call(this, error_description !== null && error_description !== void 0 ? error_description : error) || this;\n        _this.error = error;\n        _this.error_description = error_description;\n        // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n        Object.setPrototypeOf(_this, OAuthError.prototype);\n        return _this;\n    }\n    return OAuthError;\n}(Error));\n\nvar CODE_RE = /[?&]code=[^&]+/;\nvar STATE_RE = /[?&]state=[^&]+/;\nvar ERROR_RE = /[?&]error=[^&]+/;\nvar hasAuthParams = function (searchParams) {\n    if (searchParams === void 0) { searchParams = window.location.search; }\n    return (CODE_RE.test(searchParams) || ERROR_RE.test(searchParams)) &&\n        STATE_RE.test(searchParams);\n};\nvar normalizeErrorFn = function (fallbackMessage) {\n    return function (error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        // try to check errors of the following form: {error: string; error_description?: string}\n        if (error !== null &&\n            typeof error === 'object' &&\n            'error' in error &&\n            typeof error.error === 'string') {\n            if ('error_description' in error &&\n                typeof error.error_description === 'string') {\n                return new OAuthError(error.error, error.error_description);\n            }\n            return new OAuthError(error.error);\n        }\n        return new Error(fallbackMessage);\n    };\n};\nvar loginError = normalizeErrorFn('Login failed');\nvar tokenError = normalizeErrorFn('Get access token failed');\n/**\n * @ignore\n * Helper function to map the v1 `redirectUri` option to the v2 `authorizationParams.redirect_uri`\n * and log a warning.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar deprecateRedirectUri = function (options) {\n    var _a, _b;\n    if (options === null || options === void 0 ? void 0 : options.redirectUri) {\n        console.warn('Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version');\n        options.authorizationParams = (_a = options.authorizationParams) !== null && _a !== void 0 ? _a : {};\n        options.authorizationParams.redirect_uri = options.redirectUri;\n        delete options.redirectUri;\n    }\n    if ((_b = options === null || options === void 0 ? void 0 : options.authorizationParams) === null || _b === void 0 ? void 0 : _b.redirectUri) {\n        console.warn('Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version');\n        options.authorizationParams.redirect_uri =\n            options.authorizationParams.redirectUri;\n        delete options.authorizationParams.redirectUri;\n    }\n};\n\n/**\n * Handles how that state changes in the `useAuth0` hook.\n */\nvar reducer = function (state, action) {\n    switch (action.type) {\n        case 'LOGIN_POPUP_STARTED':\n            return __assign(__assign({}, state), { isLoading: true });\n        case 'LOGIN_POPUP_COMPLETE':\n        case 'INITIALISED':\n            return __assign(__assign({}, state), { isAuthenticated: !!action.user, user: action.user, isLoading: false, error: undefined });\n        case 'HANDLE_REDIRECT_COMPLETE':\n        case 'GET_ACCESS_TOKEN_COMPLETE':\n            if (state.user === action.user) {\n                return state;\n            }\n            return __assign(__assign({}, state), { isAuthenticated: !!action.user, user: action.user });\n        case 'LOGOUT':\n            return __assign(__assign({}, state), { isAuthenticated: false, user: undefined });\n        case 'ERROR':\n            return __assign(__assign({}, state), { isLoading: false, error: action.error });\n    }\n};\n\n/**\n * @ignore\n */\nvar toAuth0ClientOptions = function (opts) {\n    deprecateRedirectUri(opts);\n    return __assign(__assign({}, opts), { auth0Client: {\n            name: 'auth0-react',\n            version: '2.4.0',\n        } });\n};\n/**\n * @ignore\n */\nvar defaultOnRedirectCallback = function (appState) {\n    var _a;\n    window.history.replaceState({}, document.title, (_a = appState === null || appState === void 0 ? void 0 : appState.returnTo) !== null && _a !== void 0 ? _a : window.location.pathname);\n};\n/**\n * ```jsx\n * <Auth0Provider\n *   domain={domain}\n *   clientId={clientId}\n *   authorizationParams={{ redirect_uri: window.location.origin }}>\n *   <MyApp />\n * </Auth0Provider>\n * ```\n *\n * Provides the Auth0Context to its child components.\n */\nvar Auth0Provider = function (opts) {\n    var children = opts.children, skipRedirectCallback = opts.skipRedirectCallback, _a = opts.onRedirectCallback, onRedirectCallback = _a === void 0 ? defaultOnRedirectCallback : _a, _b = opts.context, context = _b === void 0 ? Auth0Context : _b, clientOpts = __rest(opts, [\"children\", \"skipRedirectCallback\", \"onRedirectCallback\", \"context\"]);\n    var client = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(function () { return new te(toAuth0ClientOptions(clientOpts)); })[0];\n    var _c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)((reducer), initialAuthState), state = _c[0], dispatch = _c[1];\n    var didInitialise = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    var handleError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (error) {\n        dispatch({ type: 'ERROR', error: error });\n        return error;\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n        if (didInitialise.current) {\n            return;\n        }\n        didInitialise.current = true;\n        (function () { return __awaiter(void 0, void 0, void 0, function () {\n            var user, appState, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 7, , 8]);\n                        user = void 0;\n                        if (!(hasAuthParams() && !skipRedirectCallback)) return [3 /*break*/, 3];\n                        return [4 /*yield*/, client.handleRedirectCallback()];\n                    case 1:\n                        appState = (_a.sent()).appState;\n                        return [4 /*yield*/, client.getUser()];\n                    case 2:\n                        user = _a.sent();\n                        onRedirectCallback(appState, user);\n                        return [3 /*break*/, 6];\n                    case 3: return [4 /*yield*/, client.checkSession()];\n                    case 4:\n                        _a.sent();\n                        return [4 /*yield*/, client.getUser()];\n                    case 5:\n                        user = _a.sent();\n                        _a.label = 6;\n                    case 6:\n                        dispatch({ type: 'INITIALISED', user: user });\n                        return [3 /*break*/, 8];\n                    case 7:\n                        error_1 = _a.sent();\n                        handleError(loginError(error_1));\n                        return [3 /*break*/, 8];\n                    case 8: return [2 /*return*/];\n                }\n            });\n        }); })();\n    }, [client, onRedirectCallback, skipRedirectCallback, handleError]);\n    var loginWithRedirect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (opts) {\n        deprecateRedirectUri(opts);\n        return client.loginWithRedirect(opts);\n    }, [client]);\n    var loginWithPopup = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (options, config) { return __awaiter(void 0, void 0, void 0, function () {\n        var error_2, user;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    dispatch({ type: 'LOGIN_POPUP_STARTED' });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, client.loginWithPopup(options, config)];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_2 = _a.sent();\n                    handleError(loginError(error_2));\n                    return [2 /*return*/];\n                case 4: return [4 /*yield*/, client.getUser()];\n                case 5:\n                    user = _a.sent();\n                    dispatch({ type: 'LOGIN_POPUP_COMPLETE', user: user });\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [client, handleError]);\n    var logout = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n        var args_1 = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args_1[_i] = arguments[_i];\n        }\n        return __awaiter(void 0, __spreadArray([], args_1, true), void 0, function (opts) {\n            if (opts === void 0) { opts = {}; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, client.logout(opts)];\n                    case 1:\n                        _a.sent();\n                        if (opts.openUrl || opts.openUrl === false) {\n                            dispatch({ type: 'LOGOUT' });\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    }, [client]);\n    var getAccessTokenSilently = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function (opts) { return __awaiter(void 0, void 0, void 0, function () {\n        var token, error_3, _a;\n        var _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    _c.trys.push([0, 2, 3, 5]);\n                    return [4 /*yield*/, client.getTokenSilently(opts)];\n                case 1:\n                    token = _c.sent();\n                    return [3 /*break*/, 5];\n                case 2:\n                    error_3 = _c.sent();\n                    throw tokenError(error_3);\n                case 3:\n                    _a = dispatch;\n                    _b = {\n                        type: 'GET_ACCESS_TOKEN_COMPLETE'\n                    };\n                    return [4 /*yield*/, client.getUser()];\n                case 4:\n                    _a.apply(void 0, [(_b.user = _c.sent(),\n                            _b)]);\n                    return [7 /*endfinally*/];\n                case 5: return [2 /*return*/, token];\n            }\n        });\n    }); }, [client]);\n    var getAccessTokenWithPopup = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (opts, config) { return __awaiter(void 0, void 0, void 0, function () {\n        var token, error_4, _a;\n        var _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    _c.trys.push([0, 2, 3, 5]);\n                    return [4 /*yield*/, client.getTokenWithPopup(opts, config)];\n                case 1:\n                    token = _c.sent();\n                    return [3 /*break*/, 5];\n                case 2:\n                    error_4 = _c.sent();\n                    throw tokenError(error_4);\n                case 3:\n                    _a = dispatch;\n                    _b = {\n                        type: 'GET_ACCESS_TOKEN_COMPLETE'\n                    };\n                    return [4 /*yield*/, client.getUser()];\n                case 4:\n                    _a.apply(void 0, [(_b.user = _c.sent(),\n                            _b)]);\n                    return [7 /*endfinally*/];\n                case 5: return [2 /*return*/, token];\n            }\n        });\n    }); }, [client]);\n    var getIdTokenClaims = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () { return client.getIdTokenClaims(); }, [client]);\n    var handleRedirectCallback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (url) { return __awaiter(void 0, void 0, void 0, function () {\n        var error_5, _a;\n        var _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    _c.trys.push([0, 2, 3, 5]);\n                    return [4 /*yield*/, client.handleRedirectCallback(url)];\n                case 1: return [2 /*return*/, _c.sent()];\n                case 2:\n                    error_5 = _c.sent();\n                    throw tokenError(error_5);\n                case 3:\n                    _a = dispatch;\n                    _b = {\n                        type: 'HANDLE_REDIRECT_COMPLETE'\n                    };\n                    return [4 /*yield*/, client.getUser()];\n                case 4:\n                    _a.apply(void 0, [(_b.user = _c.sent(),\n                            _b)]);\n                    return [7 /*endfinally*/];\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); }, [client]);\n    var contextValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n        return __assign(__assign({}, state), { getAccessTokenSilently: getAccessTokenSilently, getAccessTokenWithPopup: getAccessTokenWithPopup, getIdTokenClaims: getIdTokenClaims, loginWithRedirect: loginWithRedirect, loginWithPopup: loginWithPopup, logout: logout, handleRedirectCallback: handleRedirectCallback });\n    }, [\n        state,\n        getAccessTokenSilently,\n        getAccessTokenWithPopup,\n        getIdTokenClaims,\n        loginWithRedirect,\n        loginWithPopup,\n        logout,\n        handleRedirectCallback,\n    ]);\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(context.Provider, { value: contextValue }, children);\n};\n\n/**\n * ```js\n * const {\n *   // Auth state:\n *   error,\n *   isAuthenticated,\n *   isLoading,\n *   user,\n *   // Auth methods:\n *   getAccessTokenSilently,\n *   getAccessTokenWithPopup,\n *   getIdTokenClaims,\n *   loginWithRedirect,\n *   loginWithPopup,\n *   logout,\n * } = useAuth0<TUser>();\n * ```\n *\n * Use the `useAuth0` hook in your components to access the auth state and methods.\n *\n * TUser is an optional type param to provide a type to the `user` field.\n */\nvar useAuth0 = function (context) {\n    if (context === void 0) { context = Auth0Context; }\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(context);\n};\n\n/**\n * ```jsx\n * class MyComponent extends Component {\n *   render() {\n *     // Access the auth context from the `auth0` prop\n *     const { user } = this.props.auth0;\n *     return <div>Hello {user.name}!</div>\n *   }\n * }\n * // Wrap your class component in withAuth0\n * export default withAuth0(MyComponent);\n * ```\n *\n * Wrap your class components in this Higher Order Component to give them access to the Auth0Context.\n *\n * Providing a context as the second argument allows you to configure the Auth0Provider the Auth0Context\n * should come from f you have multiple within your application.\n */\nvar withAuth0 = function (Component, context) {\n    if (context === void 0) { context = Auth0Context; }\n    return function WithAuth(props) {\n        return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(context.Consumer, null, function (auth) { return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Component, __assign({}, props, { auth0: auth }))); }));\n    };\n};\n\n/**\n * @ignore\n */\nvar defaultOnRedirecting = function () { return react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null); };\n/**\n* @ignore\n*/\nvar defaultOnBeforeAuthentication = function () { return __awaiter(void 0, void 0, void 0, function () { return __generator(this, function (_a) {\n    return [2 /*return*/];\n}); }); };\n/**\n * @ignore\n */\nvar defaultReturnTo = function () {\n    return \"\".concat(window.location.pathname).concat(window.location.search);\n};\n/**\n * ```js\n * const MyProtectedComponent = withAuthenticationRequired(MyComponent);\n * ```\n *\n * When you wrap your components in this Higher Order Component and an anonymous user visits your component\n * they will be redirected to the login page; after login they will be returned to the page they were redirected from.\n */\nvar withAuthenticationRequired = function (Component, options) {\n    if (options === void 0) { options = {}; }\n    return function WithAuthenticationRequired(props) {\n        var _this = this;\n        var _a = options.returnTo, returnTo = _a === void 0 ? defaultReturnTo : _a, _b = options.onRedirecting, onRedirecting = _b === void 0 ? defaultOnRedirecting : _b, _c = options.onBeforeAuthentication, onBeforeAuthentication = _c === void 0 ? defaultOnBeforeAuthentication : _c, loginOptions = options.loginOptions, _d = options.context, context = _d === void 0 ? Auth0Context : _d;\n        var _e = useAuth0(context), isAuthenticated = _e.isAuthenticated, isLoading = _e.isLoading, loginWithRedirect = _e.loginWithRedirect;\n        (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n            if (isLoading || isAuthenticated) {\n                return;\n            }\n            var opts = __assign(__assign({}, loginOptions), { appState: __assign(__assign({}, loginOptions === null || loginOptions === void 0 ? void 0 : loginOptions.appState), { returnTo: typeof returnTo === 'function' ? returnTo() : returnTo }) });\n            void (function () { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, onBeforeAuthentication()];\n                        case 1:\n                            _a.sent();\n                            return [4 /*yield*/, loginWithRedirect(opts)];\n                        case 2:\n                            _a.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            }); })();\n        }, [\n            isLoading,\n            isAuthenticated,\n            loginWithRedirect,\n            onBeforeAuthentication,\n            loginOptions,\n            returnTo,\n        ]);\n        return isAuthenticated ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Component, __assign({}, props)) : onRedirecting();\n    };\n};\n\n\n//# sourceMappingURL=auth0-react.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aDAvYXV0aDAtcmVhY3QvZGlzdC9hdXRoMC1yZWFjdC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3SDs7QUFFeEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUNuRiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGNBQWM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZCQUE2QiwwQkFBMEIsY0FBYyxxQkFBcUI7QUFDeEcsNklBQTZJLGNBQWM7QUFDM0osdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsbUNBQW1DLFNBQVM7QUFDNUMsbUNBQW1DLFdBQVcsVUFBVTtBQUN4RCwwQ0FBMEMsY0FBYztBQUN4RDtBQUNBLDhHQUE4RyxPQUFPO0FBQ3JILGlGQUFpRixpQkFBaUI7QUFDbEcseURBQXlELGdCQUFnQixRQUFRO0FBQ2pGLCtDQUErQyxnQkFBZ0IsZ0JBQWdCO0FBQy9FO0FB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QzlCLFdBQVcsaURBQVU7QUFDckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QiwwQkFBMEIsVUFBVTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQSxnQkFBZ0IsMERBQW1CLDJDQUEyQyxRQUFRLDBEQUFtQix1QkFBdUIsV0FBVyxhQUFhLE1BQU07QUFDOUo7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsT0FBTywwREFBbUIsQ0FBQyx1REFBYztBQUNsRjtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsdURBQXVEO0FBQ3pHO0FBQ0EsQ0FBQyxJQUFJO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdEQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQkFBbUIsOEJBQThCLHdGQUF3RixrRUFBa0UsR0FBRztBQUN6UCxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYSxJQUFJO0FBQ2pCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywwREFBbUIsdUJBQXVCO0FBQzNFO0FBQ0E7O0FBRW9WO0FBQ3BWIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AYXV0aDAvYXV0aDAtcmVhY3QvZGlzdC9hdXRoMC1yZWFjdC5lc20uanM/M2E0NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlU3RhdGUsIHVzZVJlZHVjZXIsIHVzZVJlZiwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCwgSXRlcmF0b3IgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGcgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgSXRlcmF0b3IgPT09IFwiZnVuY3Rpb25cIiA/IEl0ZXJhdG9yIDogT2JqZWN0KS5wcm90b3R5cGUpO1xyXG4gICAgcmV0dXJuIGcubmV4dCA9IHZlcmIoMCksIGdbXCJ0aHJvd1wiXSA9IHZlcmIoMSksIGdbXCJyZXR1cm5cIl0gPSB2ZXJiKDIpLCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XHJcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcclxuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcclxuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xyXG59XHJcblxyXG50eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcclxuICAgIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgcmV0dXJuIGUubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGUuZXJyb3IgPSBlcnJvciwgZS5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZCwgZTtcclxufTtcblxuZnVuY3Rpb24gZShlLHQpe3ZhciBpPXt9O2Zvcih2YXIgbyBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pJiZ0LmluZGV4T2Yobyk8MCYmKGlbb109ZVtvXSk7aWYobnVsbCE9ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49MDtmb3Iobz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO248by5sZW5ndGg7bisrKXQuaW5kZXhPZihvW25dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxvW25dKSYmKGlbb1tuXV09ZVtvW25dXSk7fXJldHVybiBpfVwiZnVuY3Rpb25cIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO3ZhciB0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVmYXVsdFwiKT9lLmRlZmF1bHQ6ZX1mdW5jdGlvbiBvKGUsdCl7cmV0dXJuIGUodD17ZXhwb3J0czp7fX0sdC5leHBvcnRzKSx0LmV4cG9ydHN9dmFyIG49bygoZnVuY3Rpb24oZSx0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgZT10aGlzO3RoaXMubG9ja2VkPW5ldyBNYXAsdGhpcy5hZGRUb0xvY2tlZD1mdW5jdGlvbih0LGkpe3ZhciBvPWUubG9ja2VkLmdldCh0KTt2b2lkIDA9PT1vP3ZvaWQgMD09PWk/ZS5sb2NrZWQuc2V0KHQsW10pOmUubG9ja2VkLnNldCh0LFtpXSk6dm9pZCAwIT09aSYmKG8udW5zaGlmdChpKSxlLmxvY2tlZC5zZXQodCxvKSk7fSx0aGlzLmlzTG9ja2VkPWZ1bmN0aW9uKHQpe3JldHVybiBlLmxvY2tlZC5oYXModCl9LHRoaXMubG9jaz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksbyl7ZS5pc0xvY2tlZCh0KT9lLmFkZFRvTG9ja2VkKHQsaSk6KGUuYWRkVG9Mb2NrZWQodCksaSgpKTt9KSl9LHRoaXMudW5sb2NrPWZ1bmN0aW9uKHQpe3ZhciBpPWUubG9ja2VkLmdldCh0KTtpZih2b2lkIDAhPT1pJiYwIT09aS5sZW5ndGgpe3ZhciBvPWkucG9wKCk7ZS5sb2NrZWQuc2V0KHQsaSksdm9pZCAwIT09byYmc2V0VGltZW91dChvLDApO31lbHNlIGUubG9ja2VkLmRlbGV0ZSh0KTt9O31yZXR1cm4gZS5nZXRJbnN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1lLmluc3RhbmNlJiYoZS5pbnN0YW5jZT1uZXcgZSksZS5pbnN0YW5jZX0sZX0oKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gaS5nZXRJbnN0YW5jZSgpfTt9KSk7aShuKTt2YXIgYT1pKG8oKGZ1bmN0aW9uKGUsaSl7dmFyIG89dCYmdC5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxpLG8pe3JldHVybiBuZXcoaXx8KGk9UHJvbWlzZSkpKChmdW5jdGlvbihuLGEpe2Z1bmN0aW9uIHIoZSl7dHJ5e2Moby5uZXh0KGUpKTt9Y2F0Y2goZSl7YShlKTt9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moby50aHJvdyhlKSk7fWNhdGNoKGUpe2EoZSk7fX1mdW5jdGlvbiBjKGUpe2UuZG9uZT9uKGUudmFsdWUpOm5ldyBpKChmdW5jdGlvbih0KXt0KGUudmFsdWUpO30pKS50aGVuKHIscyk7fWMoKG89by5hcHBseShlLHR8fFtdKSkubmV4dCgpKTt9KSl9LGE9dCYmdC5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgaSxvLG4sYSxyPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm5bMF0pdGhyb3cgblsxXTtyZXR1cm4gblsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBhPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoYVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxhO2Z1bmN0aW9uIHMoYSl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihhKXtpZihpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7cjspdHJ5e2lmKGk9MSxvJiYobj0yJmFbMF0/by5yZXR1cm46YVswXT9vLnRocm93fHwoKG49by5yZXR1cm4pJiZuLmNhbGwobyksMCk6by5uZXh0KSYmIShuPW4uY2FsbChvLGFbMV0pKS5kb25lKXJldHVybiBuO3N3aXRjaChvPTAsbiYmKGE9WzImYVswXSxuLnZhbHVlXSksYVswXSl7Y2FzZSAwOmNhc2UgMTpuPWE7YnJlYWs7Y2FzZSA0OnJldHVybiByLmxhYmVsKysse3ZhbHVlOmFbMV0sZG9uZTohMX07Y2FzZSA1OnIubGFiZWwrKyxvPWFbMV0sYT1bMF07Y29udGludWU7Y2FzZSA3OmE9ci5vcHMucG9wKCksci50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShuPXIudHJ5cywobj1uLmxlbmd0aD4wJiZuW24ubGVuZ3RoLTFdKXx8NiE9PWFbMF0mJjIhPT1hWzBdKSl7cj0wO2NvbnRpbnVlfWlmKDM9PT1hWzBdJiYoIW58fGFbMV0+blswXSYmYVsxXTxuWzNdKSl7ci5sYWJlbD1hWzFdO2JyZWFrfWlmKDY9PT1hWzBdJiZyLmxhYmVsPG5bMV0pe3IubGFiZWw9blsxXSxuPWE7YnJlYWt9aWYobiYmci5sYWJlbDxuWzJdKXtyLmxhYmVsPW5bMl0sci5vcHMucHVzaChhKTticmVha31uWzJdJiZyLm9wcy5wb3AoKSxyLnRyeXMucG9wKCk7Y29udGludWV9YT10LmNhbGwoZSxyKTt9Y2F0Y2goZSl7YT1bNixlXSxvPTA7fWZpbmFsbHl7aT1uPTA7fWlmKDUmYVswXSl0aHJvdyBhWzFdO3JldHVybiB7dmFsdWU6YVswXT9hWzFdOnZvaWQgMCxkb25lOiEwfX0oW2Esc10pfX19LHI9dDtPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1cImJyb3dzZXItdGFicy1sb2NrLWtleVwiLGM9e2tleTpmdW5jdGlvbihlKXtyZXR1cm4gbyhyLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWRcIil9KSl9KSl9LGdldEl0ZW06ZnVuY3Rpb24oZSl7cmV0dXJuIG8ocix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkXCIpfSkpfSkpfSxjbGVhcjpmdW5jdGlvbigpe3JldHVybiBvKHIsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihlKXtyZXR1cm4gWzIsd2luZG93LmxvY2FsU3RvcmFnZS5jbGVhcigpXX0pKX0pKX0scmVtb3ZlSXRlbTpmdW5jdGlvbihlKXtyZXR1cm4gbyhyLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWRcIil9KSl9KSl9LHNldEl0ZW06ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyhyLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWRcIil9KSl9KSl9LGtleVN5bmM6ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2Uua2V5KGUpfSxnZXRJdGVtU3luYzpmdW5jdGlvbihlKXtyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpfSxjbGVhclN5bmM6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5jbGVhcigpfSxyZW1vdmVJdGVtU3luYzpmdW5jdGlvbihlKXtyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGUpfSxzZXRJdGVtU3luYzpmdW5jdGlvbihlLHQpe3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oZSx0KX19O2Z1bmN0aW9uIHUoZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtyZXR1cm4gc2V0VGltZW91dCh0LGUpfSkpfWZ1bmN0aW9uIGQoZSl7Zm9yKHZhciB0PVwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFRaYWJjZGVmZ2hpa2xtbm9wcXJzdHV2d3h5elwiLGk9XCJcIixvPTA7bzxlO28rKyl7aSs9dFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdC5sZW5ndGgpXTt9cmV0dXJuIGl9dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3RoaXMuYWNxdWlyZWRJYXRTZXQ9bmV3IFNldCx0aGlzLnN0b3JhZ2VIYW5kbGVyPXZvaWQgMCx0aGlzLmlkPURhdGUubm93KCkudG9TdHJpbmcoKStkKDE1KSx0aGlzLmFjcXVpcmVMb2NrPXRoaXMuYWNxdWlyZUxvY2suYmluZCh0aGlzKSx0aGlzLnJlbGVhc2VMb2NrPXRoaXMucmVsZWFzZUxvY2suYmluZCh0aGlzKSx0aGlzLnJlbGVhc2VMb2NrX19wcml2YXRlX189dGhpcy5yZWxlYXNlTG9ja19fcHJpdmF0ZV9fLmJpbmQodGhpcyksdGhpcy53YWl0Rm9yU29tZXRoaW5nVG9DaGFuZ2U9dGhpcy53YWl0Rm9yU29tZXRoaW5nVG9DaGFuZ2UuYmluZCh0aGlzKSx0aGlzLnJlZnJlc2hMb2NrV2hpbGVBY3F1aXJlZD10aGlzLnJlZnJlc2hMb2NrV2hpbGVBY3F1aXJlZC5iaW5kKHRoaXMpLHRoaXMuc3RvcmFnZUhhbmRsZXI9dCx2b2lkIDA9PT1lLndhaXRlcnMmJihlLndhaXRlcnM9W10pO31yZXR1cm4gZS5wcm90b3R5cGUuYWNxdWlyZUxvY2s9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9NWUzKSxvKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbyxuLHIsbCxoLHAsbTtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOm89RGF0ZS5ub3coKStkKDQpLG49RGF0ZS5ub3coKStpLHI9cytcIi1cIit0LGw9dm9pZCAwPT09dGhpcy5zdG9yYWdlSGFuZGxlcj9jOnRoaXMuc3RvcmFnZUhhbmRsZXIsYS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gRGF0ZS5ub3coKTxuP1s0LHUoMzApXTpbMyw4XTtjYXNlIDI6cmV0dXJuIGEuc2VudCgpLG51bGwhPT1sLmdldEl0ZW1TeW5jKHIpP1szLDVdOihoPXRoaXMuaWQrXCItXCIrdCtcIi1cIitvLFs0LHUoTWF0aC5mbG9vcigyNSpNYXRoLnJhbmRvbSgpKSldKTtjYXNlIDM6cmV0dXJuIGEuc2VudCgpLGwuc2V0SXRlbVN5bmMocixKU09OLnN0cmluZ2lmeSh7aWQ6dGhpcy5pZCxpYXQ6byx0aW1lb3V0S2V5OmgsdGltZUFjcXVpcmVkOkRhdGUubm93KCksdGltZVJlZnJlc2hlZDpEYXRlLm5vdygpfSkpLFs0LHUoMzApXTtjYXNlIDQ6cmV0dXJuIGEuc2VudCgpLG51bGwhPT0ocD1sLmdldEl0ZW1TeW5jKHIpKSYmKG09SlNPTi5wYXJzZShwKSkuaWQ9PT10aGlzLmlkJiZtLmlhdD09PW8/KHRoaXMuYWNxdWlyZWRJYXRTZXQuYWRkKG8pLHRoaXMucmVmcmVzaExvY2tXaGlsZUFjcXVpcmVkKHIsbyksWzIsITBdKTpbMyw3XTtjYXNlIDU6cmV0dXJuIGUubG9ja0NvcnJlY3Rvcih2b2lkIDA9PT10aGlzLnN0b3JhZ2VIYW5kbGVyP2M6dGhpcy5zdG9yYWdlSGFuZGxlciksWzQsdGhpcy53YWl0Rm9yU29tZXRoaW5nVG9DaGFuZ2UobildO2Nhc2UgNjphLnNlbnQoKSxhLmxhYmVsPTc7Y2FzZSA3OnJldHVybiBvPURhdGUubm93KCkrZCg0KSxbMywxXTtjYXNlIDg6cmV0dXJuIFsyLCExXX19KSl9KSl9LGUucHJvdG90eXBlLnJlZnJlc2hMb2NrV2hpbGVBY3F1aXJlZD1mdW5jdGlvbihlLHQpe3JldHVybiBvKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaT10aGlzO3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKHIpe3JldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBvKGksdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxvLHI7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDpyZXR1cm4gWzQsbi5kZWZhdWx0KCkubG9jayh0KV07Y2FzZSAxOnJldHVybiBhLnNlbnQoKSx0aGlzLmFjcXVpcmVkSWF0U2V0Lmhhcyh0KT8oaT12b2lkIDA9PT10aGlzLnN0b3JhZ2VIYW5kbGVyP2M6dGhpcy5zdG9yYWdlSGFuZGxlcixudWxsPT09KG89aS5nZXRJdGVtU3luYyhlKSk/KG4uZGVmYXVsdCgpLnVubG9jayh0KSxbMl0pOigocj1KU09OLnBhcnNlKG8pKS50aW1lUmVmcmVzaGVkPURhdGUubm93KCksaS5zZXRJdGVtU3luYyhlLEpTT04uc3RyaW5naWZ5KHIpKSxuLmRlZmF1bHQoKS51bmxvY2sodCksdGhpcy5yZWZyZXNoTG9ja1doaWxlQWNxdWlyZWQoZSx0KSxbMl0pKToobi5kZWZhdWx0KCkudW5sb2NrKHQpLFsyXSl9fSkpfSkpfSksMWUzKSxbMl19KSl9KSl9LGUucHJvdG90eXBlLndhaXRGb3JTb21ldGhpbmdUb0NoYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gWzQsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGkpe3ZhciBvPSExLG49RGF0ZS5ub3coKSxhPSExO2Z1bmN0aW9uIHIoKXtpZihhfHwod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsciksZS5yZW1vdmVGcm9tV2FpdGluZyhyKSxjbGVhclRpbWVvdXQocyksYT0hMCksIW8pe289ITA7dmFyIHQ9NTAtKERhdGUubm93KCktbik7dD4wP3NldFRpbWVvdXQoaSx0KTppKG51bGwpO319d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsciksZS5hZGRUb1dhaXRpbmcocik7dmFyIHM9c2V0VGltZW91dChyLE1hdGgubWF4KDAsdC1EYXRlLm5vdygpKSk7fSkpXTtjYXNlIDE6cmV0dXJuIGkuc2VudCgpLFsyXX19KSl9KSl9LGUuYWRkVG9XYWl0aW5nPWZ1bmN0aW9uKHQpe3RoaXMucmVtb3ZlRnJvbVdhaXRpbmcodCksdm9pZCAwIT09ZS53YWl0ZXJzJiZlLndhaXRlcnMucHVzaCh0KTt9LGUucmVtb3ZlRnJvbVdhaXRpbmc9ZnVuY3Rpb24odCl7dm9pZCAwIT09ZS53YWl0ZXJzJiYoZS53YWl0ZXJzPWUud2FpdGVycy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pKSk7fSxlLm5vdGlmeVdhaXRlcnM9ZnVuY3Rpb24oKXt2b2lkIDAhPT1lLndhaXRlcnMmJmUud2FpdGVycy5zbGljZSgpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlKCl9KSk7fSxlLnByb3RvdHlwZS5yZWxlYXNlTG9jaz1mdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gWzQsdGhpcy5yZWxlYXNlTG9ja19fcHJpdmF0ZV9fKGUpXTtjYXNlIDE6cmV0dXJuIFsyLHQuc2VudCgpXX19KSl9KSl9LGUucHJvdG90eXBlLnJlbGVhc2VMb2NrX19wcml2YXRlX189ZnVuY3Rpb24odCl7cmV0dXJuIG8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLG8scix1O3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGk9dm9pZCAwPT09dGhpcy5zdG9yYWdlSGFuZGxlcj9jOnRoaXMuc3RvcmFnZUhhbmRsZXIsbz1zK1wiLVwiK3QsbnVsbD09PShyPWkuZ2V0SXRlbVN5bmMobykpP1syXToodT1KU09OLnBhcnNlKHIpKS5pZCE9PXRoaXMuaWQ/WzMsMl06WzQsbi5kZWZhdWx0KCkubG9jayh1LmlhdCldO2Nhc2UgMTphLnNlbnQoKSx0aGlzLmFjcXVpcmVkSWF0U2V0LmRlbGV0ZSh1LmlhdCksaS5yZW1vdmVJdGVtU3luYyhvKSxuLmRlZmF1bHQoKS51bmxvY2sodS5pYXQpLGUubm90aWZ5V2FpdGVycygpLGEubGFiZWw9MjtjYXNlIDI6cmV0dXJuIFsyXX19KSl9KSl9LGUubG9ja0NvcnJlY3Rvcj1mdW5jdGlvbih0KXtmb3IodmFyIGk9RGF0ZS5ub3coKS01ZTMsbz10LG49W10sYT0wOzspe3ZhciByPW8ua2V5U3luYyhhKTtpZihudWxsPT09cilicmVhaztuLnB1c2gociksYSsrO31mb3IodmFyIGM9ITEsdT0wO3U8bi5sZW5ndGg7dSsrKXt2YXIgZD1uW3VdO2lmKGQuaW5jbHVkZXMocykpe3ZhciBsPW8uZ2V0SXRlbVN5bmMoZCk7aWYobnVsbCE9PWwpe3ZhciBoPUpTT04ucGFyc2UobCk7KHZvaWQgMD09PWgudGltZVJlZnJlc2hlZCYmaC50aW1lQWNxdWlyZWQ8aXx8dm9pZCAwIT09aC50aW1lUmVmcmVzaGVkJiZoLnRpbWVSZWZyZXNoZWQ8aSkmJihvLnJlbW92ZUl0ZW1TeW5jKGQpLGM9ITApO319fWMmJmUubm90aWZ5V2FpdGVycygpO30sZS53YWl0ZXJzPXZvaWQgMCxlfSgpO2kuZGVmYXVsdD1sO30pKSk7Y29uc3Qgcj17dGltZW91dEluU2Vjb25kczo2MH0scz17bmFtZTpcImF1dGgwLXNwYS1qc1wiLHZlcnNpb246XCIyLjMuMFwifSxjPSgpPT5EYXRlLm5vdygpO2NsYXNzIHUgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKHQpLHRoaXMuZXJyb3I9ZSx0aGlzLmVycm9yX2Rlc2NyaXB0aW9uPXQsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdS5wcm90b3R5cGUpO31zdGF0aWMgZnJvbVBheWxvYWQoe2Vycm9yOmUsZXJyb3JfZGVzY3JpcHRpb246dH0pe3JldHVybiBuZXcgdShlLHQpfX1jbGFzcyBkIGV4dGVuZHMgdXtjb25zdHJ1Y3RvcihlLHQsaSxvPW51bGwpe3N1cGVyKGUsdCksdGhpcy5zdGF0ZT1pLHRoaXMuYXBwU3RhdGU9byxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxkLnByb3RvdHlwZSk7fX1jbGFzcyBsIGV4dGVuZHMgdXtjb25zdHJ1Y3Rvcigpe3N1cGVyKFwidGltZW91dFwiLFwiVGltZW91dFwiKSxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxsLnByb3RvdHlwZSk7fX1jbGFzcyBoIGV4dGVuZHMgbHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMucG9wdXA9ZSxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxoLnByb3RvdHlwZSk7fX1jbGFzcyBwIGV4dGVuZHMgdXtjb25zdHJ1Y3RvcihlKXtzdXBlcihcImNhbmNlbGxlZFwiLFwiUG9wdXAgY2xvc2VkXCIpLHRoaXMucG9wdXA9ZSxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxwLnByb3RvdHlwZSk7fX1jbGFzcyBtIGV4dGVuZHMgdXtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSx0KSx0aGlzLm1mYV90b2tlbj1pLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLG0ucHJvdG90eXBlKTt9fWNsYXNzIGYgZXh0ZW5kcyB1e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoXCJtaXNzaW5nX3JlZnJlc2hfdG9rZW5cIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7ZyhlLFtcImRlZmF1bHRcIl0pfScsIHNjb3BlOiAnJHtnKHQpfScpYCksdGhpcy5hdWRpZW5jZT1lLHRoaXMuc2NvcGU9dCxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxmLnByb3RvdHlwZSk7fX1mdW5jdGlvbiBnKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6XCJcIn1jb25zdCB3PSgpPT53aW5kb3cuY3J5cHRvLHk9KCk9Pntjb25zdCBlPVwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXotX34uXCI7bGV0IHQ9XCJcIjtyZXR1cm4gQXJyYXkuZnJvbSh3KCkuZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDQzKSkpLmZvckVhY2goKGk9PnQrPWVbaSVlLmxlbmd0aF0pKSx0fSxrPWU9PmJ0b2EoZSksdj10PT57dmFye2NsaWVudElkOml9PXQsbz1lKHQsW1wiY2xpZW50SWRcIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LGkpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tpXTplW2ldfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOml9LG8pKSkudG9TdHJpbmcoKX0sYj1lPT4oZT0+ZGVjb2RlVVJJQ29tcG9uZW50KGF0b2IoZSkuc3BsaXQoXCJcIikubWFwKChlPT5cIiVcIisoXCIwMFwiK2UuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKSkpLmpvaW4oXCJcIikpKShlLnJlcGxhY2UoL18vZyxcIi9cIikucmVwbGFjZSgvLS9nLFwiK1wiKSksXz1hc3luYyhlLHQpPT57Y29uc3QgaT1hd2FpdCBmZXRjaChlLHQpO3JldHVybiB7b2s6aS5vayxqc29uOmF3YWl0IGkuanNvbigpfX0sST1hc3luYyhlLHQsaSk9Pntjb25zdCBvPW5ldyBBYm9ydENvbnRyb2xsZXI7bGV0IG47cmV0dXJuIHQuc2lnbmFsPW8uc2lnbmFsLFByb21pc2UucmFjZShbXyhlLHQpLG5ldyBQcm9taXNlKCgoZSx0KT0+e249c2V0VGltZW91dCgoKCk9PntvLmFib3J0KCksdChuZXcgRXJyb3IoXCJUaW1lb3V0IHdoZW4gZXhlY3V0aW5nICdmZXRjaCdcIikpO30pLGkpO30pKV0pLmZpbmFsbHkoKCgpPT57Y2xlYXJUaW1lb3V0KG4pO30pKX0sUz1hc3luYyhlLHQsaSxvLG4sYSxyKT0+e3JldHVybiBzPXthdXRoOnthdWRpZW5jZTp0LHNjb3BlOml9LHRpbWVvdXQ6bixmZXRjaFVybDplLGZldGNoT3B0aW9uczpvLHVzZUZvcm1EYXRhOnJ9LGM9YSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtjb25zdCBpPW5ldyBNZXNzYWdlQ2hhbm5lbDtpLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbihvKXtvLmRhdGEuZXJyb3I/dChuZXcgRXJyb3Ioby5kYXRhLmVycm9yKSk6ZShvLmRhdGEpLGkucG9ydDEuY2xvc2UoKTt9LGMucG9zdE1lc3NhZ2UocyxbaS5wb3J0Ml0pO30pKTt2YXIgcyxjO30sTz1hc3luYyhlLHQsaSxvLG4sYSxyPTFlNCk9Pm4/UyhlLHQsaSxvLHIsbixhKTpJKGUsbyxyKTthc3luYyBmdW5jdGlvbiBUKHQsaSl7dmFye2Jhc2VVcmw6byx0aW1lb3V0Om4sYXVkaWVuY2U6YSxzY29wZTpyLGF1dGgwQ2xpZW50OmMsdXNlRm9ybURhdGE6ZH09dCxsPWUodCxbXCJiYXNlVXJsXCIsXCJ0aW1lb3V0XCIsXCJhdWRpZW5jZVwiLFwic2NvcGVcIixcImF1dGgwQ2xpZW50XCIsXCJ1c2VGb3JtRGF0YVwiXSk7Y29uc3QgaD1cInVybjppZXRmOnBhcmFtczpvYXV0aDpncmFudC10eXBlOnRva2VuLWV4Y2hhbmdlXCI9PT1sLmdyYW50X3R5cGUscD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxsKSxoJiZhJiZ7YXVkaWVuY2U6YX0pLGgmJnImJntzY29wZTpyfSksZz1kP3YocCk6SlNPTi5zdHJpbmdpZnkocCk7cmV0dXJuIGF3YWl0IGFzeW5jIGZ1bmN0aW9uKHQsaSxvLG4sYSxyLHMpe2xldCBjLGQ9bnVsbDtmb3IobGV0IGU9MDtlPDM7ZSsrKXRyeXtjPWF3YWl0IE8odCxvLG4sYSxyLHMsaSksZD1udWxsO2JyZWFrfWNhdGNoKGUpe2Q9ZTt9aWYoZCl0aHJvdyBkO2NvbnN0IGw9Yy5qc29uLHtlcnJvcjpoLGVycm9yX2Rlc2NyaXB0aW9uOnB9PWwsZz1lKGwsW1wiZXJyb3JcIixcImVycm9yX2Rlc2NyaXB0aW9uXCJdKSx7b2s6d309YztpZighdyl7Y29uc3QgZT1wfHxgSFRUUCBlcnJvci4gVW5hYmxlIHRvIGZldGNoICR7dH1gO2lmKFwibWZhX3JlcXVpcmVkXCI9PT1oKXRocm93IG5ldyBtKGgsZSxnLm1mYV90b2tlbik7aWYoXCJtaXNzaW5nX3JlZnJlc2hfdG9rZW5cIj09PWgpdGhyb3cgbmV3IGYobyxuKTt0aHJvdyBuZXcgdShofHxcInJlcXVlc3RfZXJyb3JcIixlKX1yZXR1cm4gZ30oYCR7b30vb2F1dGgvdG9rZW5gLG4sYXx8XCJkZWZhdWx0XCIscix7bWV0aG9kOlwiUE9TVFwiLGJvZHk6ZyxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOmQ/XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIjpcImFwcGxpY2F0aW9uL2pzb25cIixcIkF1dGgwLUNsaWVudFwiOmJ0b2EoSlNPTi5zdHJpbmdpZnkoY3x8cykpfX0saSxkKX1jb25zdCBqPSguLi5lKT0+e3JldHVybiAodD1lLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKS50cmltKCkuc3BsaXQoL1xccysvKSxBcnJheS5mcm9tKG5ldyBTZXQodCkpKS5qb2luKFwiIFwiKTt2YXIgdDt9O2NsYXNzIHp7Y29uc3RydWN0b3IoZSx0PVwiQEBhdXRoMHNwYWpzQEBcIixpKXt0aGlzLnByZWZpeD10LHRoaXMuc3VmZml4PWksdGhpcy5jbGllbnRJZD1lLmNsaWVudElkLHRoaXMuc2NvcGU9ZS5zY29wZSx0aGlzLmF1ZGllbmNlPWUuYXVkaWVuY2U7fXRvS2V5KCl7cmV0dXJuIFt0aGlzLnByZWZpeCx0aGlzLmNsaWVudElkLHRoaXMuYXVkaWVuY2UsdGhpcy5zY29wZSx0aGlzLnN1ZmZpeF0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCI6OlwiKX1zdGF0aWMgZnJvbUtleShlKXtjb25zdFt0LGksbyxuXT1lLnNwbGl0KFwiOjpcIik7cmV0dXJuIG5ldyB6KHtjbGllbnRJZDppLHNjb3BlOm4sYXVkaWVuY2U6b30sdCl9c3RhdGljIGZyb21DYWNoZUVudHJ5KGUpe2NvbnN0e3Njb3BlOnQsYXVkaWVuY2U6aSxjbGllbnRfaWQ6b309ZTtyZXR1cm4gbmV3IHooe3Njb3BlOnQsYXVkaWVuY2U6aSxjbGllbnRJZDpvfSl9fWNsYXNzIEN7c2V0KGUsdCl7bG9jYWxTdG9yYWdlLnNldEl0ZW0oZSxKU09OLnN0cmluZ2lmeSh0KSk7fWdldChlKXtjb25zdCB0PXdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKTtpZih0KXRyeXtyZXR1cm4gSlNPTi5wYXJzZSh0KX1jYXRjaChlKXtyZXR1cm59fXJlbW92ZShlKXtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKTt9YWxsS2V5cygpe3JldHVybiBPYmplY3Qua2V5cyh3aW5kb3cubG9jYWxTdG9yYWdlKS5maWx0ZXIoKGU9PmUuc3RhcnRzV2l0aChcIkBAYXV0aDBzcGFqc0BAXCIpKSl9fWNsYXNzIFB7Y29uc3RydWN0b3IoKXt0aGlzLmVuY2xvc2VkQ2FjaGU9ZnVuY3Rpb24oKXtsZXQgZT17fTtyZXR1cm4ge3NldCh0LGkpe2VbdF09aTt9LGdldCh0KXtjb25zdCBpPWVbdF07aWYoaSlyZXR1cm4gaX0scmVtb3ZlKHQpe2RlbGV0ZSBlW3RdO30sYWxsS2V5czooKT0+T2JqZWN0LmtleXMoZSl9fSgpO319Y2xhc3MgeHtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5jYWNoZT1lLHRoaXMua2V5TWFuaWZlc3Q9dCx0aGlzLm5vd1Byb3ZpZGVyPWl8fGM7fWFzeW5jIHNldElkVG9rZW4oZSx0LGkpe3ZhciBvO2NvbnN0IG49dGhpcy5nZXRJZFRva2VuQ2FjaGVLZXkoZSk7YXdhaXQgdGhpcy5jYWNoZS5zZXQobix7aWRfdG9rZW46dCxkZWNvZGVkVG9rZW46aX0pLGF3YWl0KG51bGw9PT0obz10aGlzLmtleU1hbmlmZXN0KXx8dm9pZCAwPT09bz92b2lkIDA6by5hZGQobikpO31hc3luYyBnZXRJZFRva2VuKGUpe2NvbnN0IHQ9YXdhaXQgdGhpcy5jYWNoZS5nZXQodGhpcy5nZXRJZFRva2VuQ2FjaGVLZXkoZS5jbGllbnRJZCkpO2lmKCF0JiZlLnNjb3BlJiZlLmF1ZGllbmNlKXtjb25zdCB0PWF3YWl0IHRoaXMuZ2V0KGUpO2lmKCF0KXJldHVybjtpZighdC5pZF90b2tlbnx8IXQuZGVjb2RlZFRva2VuKXJldHVybjtyZXR1cm4ge2lkX3Rva2VuOnQuaWRfdG9rZW4sZGVjb2RlZFRva2VuOnQuZGVjb2RlZFRva2VufX1pZih0KXJldHVybiB7aWRfdG9rZW46dC5pZF90b2tlbixkZWNvZGVkVG9rZW46dC5kZWNvZGVkVG9rZW59fWFzeW5jIGdldChlLHQ9MCl7dmFyIGk7bGV0IG89YXdhaXQgdGhpcy5jYWNoZS5nZXQoZS50b0tleSgpKTtpZighbyl7Y29uc3QgdD1hd2FpdCB0aGlzLmdldENhY2hlS2V5cygpO2lmKCF0KXJldHVybjtjb25zdCBpPXRoaXMubWF0Y2hFeGlzdGluZ0NhY2hlS2V5KGUsdCk7aSYmKG89YXdhaXQgdGhpcy5jYWNoZS5nZXQoaSkpO31pZighbylyZXR1cm47Y29uc3Qgbj1hd2FpdCB0aGlzLm5vd1Byb3ZpZGVyKCksYT1NYXRoLmZsb29yKG4vMWUzKTtyZXR1cm4gby5leHBpcmVzQXQtdDxhP28uYm9keS5yZWZyZXNoX3Rva2VuPyhvLmJvZHk9e3JlZnJlc2hfdG9rZW46by5ib2R5LnJlZnJlc2hfdG9rZW59LGF3YWl0IHRoaXMuY2FjaGUuc2V0KGUudG9LZXkoKSxvKSxvLmJvZHkpOihhd2FpdCB0aGlzLmNhY2hlLnJlbW92ZShlLnRvS2V5KCkpLHZvaWQgYXdhaXQobnVsbD09PShpPXRoaXMua2V5TWFuaWZlc3QpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnJlbW92ZShlLnRvS2V5KCkpKSk6by5ib2R5fWFzeW5jIHNldChlKXt2YXIgdDtjb25zdCBpPW5ldyB6KHtjbGllbnRJZDplLmNsaWVudF9pZCxzY29wZTplLnNjb3BlLGF1ZGllbmNlOmUuYXVkaWVuY2V9KSxvPWF3YWl0IHRoaXMud3JhcENhY2hlRW50cnkoZSk7YXdhaXQgdGhpcy5jYWNoZS5zZXQoaS50b0tleSgpLG8pLGF3YWl0KG51bGw9PT0odD10aGlzLmtleU1hbmlmZXN0KXx8dm9pZCAwPT09dD92b2lkIDA6dC5hZGQoaS50b0tleSgpKSk7fWFzeW5jIGNsZWFyKGUpe3ZhciB0O2NvbnN0IGk9YXdhaXQgdGhpcy5nZXRDYWNoZUtleXMoKTtpJiYoYXdhaXQgaS5maWx0ZXIoKHQ9PiFlfHx0LmluY2x1ZGVzKGUpKSkucmVkdWNlKChhc3luYyhlLHQpPT57YXdhaXQgZSxhd2FpdCB0aGlzLmNhY2hlLnJlbW92ZSh0KTt9KSxQcm9taXNlLnJlc29sdmUoKSksYXdhaXQobnVsbD09PSh0PXRoaXMua2V5TWFuaWZlc3QpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNsZWFyKCkpKTt9YXN5bmMgd3JhcENhY2hlRW50cnkoZSl7Y29uc3QgdD1hd2FpdCB0aGlzLm5vd1Byb3ZpZGVyKCk7cmV0dXJuIHtib2R5OmUsZXhwaXJlc0F0Ok1hdGguZmxvb3IodC8xZTMpK2UuZXhwaXJlc19pbn19YXN5bmMgZ2V0Q2FjaGVLZXlzKCl7dmFyIGU7cmV0dXJuIHRoaXMua2V5TWFuaWZlc3Q/bnVsbD09PShlPWF3YWl0IHRoaXMua2V5TWFuaWZlc3QuZ2V0KCkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmtleXM6dGhpcy5jYWNoZS5hbGxLZXlzP3RoaXMuY2FjaGUuYWxsS2V5cygpOnZvaWQgMH1nZXRJZFRva2VuQ2FjaGVLZXkoZSl7cmV0dXJuIG5ldyB6KHtjbGllbnRJZDplfSxcIkBAYXV0aDBzcGFqc0BAXCIsXCJAQHVzZXJAQFwiKS50b0tleSgpfW1hdGNoRXhpc3RpbmdDYWNoZUtleShlLHQpe3JldHVybiB0LmZpbHRlcigodD0+e3ZhciBpO2NvbnN0IG89ei5mcm9tS2V5KHQpLG49bmV3IFNldChvLnNjb3BlJiZvLnNjb3BlLnNwbGl0KFwiIFwiKSksYT0obnVsbD09PShpPWUuc2NvcGUpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnNwbGl0KFwiIFwiKSl8fFtdLHI9by5zY29wZSYmYS5yZWR1Y2UoKChlLHQpPT5lJiZuLmhhcyh0KSksITApO3JldHVybiBcIkBAYXV0aDBzcGFqc0BAXCI9PT1vLnByZWZpeCYmby5jbGllbnRJZD09PWUuY2xpZW50SWQmJm8uYXVkaWVuY2U9PT1lLmF1ZGllbmNlJiZyfSkpWzBdfX1jbGFzcyBae2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLnN0b3JhZ2U9ZSx0aGlzLmNsaWVudElkPXQsdGhpcy5jb29raWVEb21haW49aSx0aGlzLnN0b3JhZ2VLZXk9YGEwLnNwYWpzLnR4cy4ke3RoaXMuY2xpZW50SWR9YDt9Y3JlYXRlKGUpe3RoaXMuc3RvcmFnZS5zYXZlKHRoaXMuc3RvcmFnZUtleSxlLHtkYXlzVW50aWxFeHBpcmU6MSxjb29raWVEb21haW46dGhpcy5jb29raWVEb21haW59KTt9Z2V0KCl7cmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5zdG9yYWdlS2V5KX1yZW1vdmUoKXt0aGlzLnN0b3JhZ2UucmVtb3ZlKHRoaXMuc3RvcmFnZUtleSx7Y29va2llRG9tYWluOnRoaXMuY29va2llRG9tYWlufSk7fX1jb25zdCBLPWU9PlwibnVtYmVyXCI9PXR5cGVvZiBlLFc9W1wiaXNzXCIsXCJhdWRcIixcImV4cFwiLFwibmJmXCIsXCJpYXRcIixcImp0aVwiLFwiYXpwXCIsXCJub25jZVwiLFwiYXV0aF90aW1lXCIsXCJhdF9oYXNoXCIsXCJjX2hhc2hcIixcImFjclwiLFwiYW1yXCIsXCJzdWJfandrXCIsXCJjbmZcIixcInNpcF9mcm9tX3RhZ1wiLFwic2lwX2RhdGVcIixcInNpcF9jYWxsaWRcIixcInNpcF9jc2VxX251bVwiLFwic2lwX3ZpYV9icmFuY2hcIixcIm9yaWdcIixcImRlc3RcIixcIm1reVwiLFwiZXZlbnRzXCIsXCJ0b2VcIixcInR4blwiLFwicnBoXCIsXCJzaWRcIixcInZvdFwiLFwidnRtXCJdLEU9ZT0+e2lmKCFlLmlkX3Rva2VuKXRocm93IG5ldyBFcnJvcihcIklEIHRva2VuIGlzIHJlcXVpcmVkIGJ1dCBtaXNzaW5nXCIpO2NvbnN0IHQ9KGU9Pntjb25zdCB0PWUuc3BsaXQoXCIuXCIpLFtpLG8sbl09dDtpZigzIT09dC5sZW5ndGh8fCFpfHwhb3x8IW4pdGhyb3cgbmV3IEVycm9yKFwiSUQgdG9rZW4gY291bGQgbm90IGJlIGRlY29kZWRcIik7Y29uc3QgYT1KU09OLnBhcnNlKGIobykpLHI9e19fcmF3OmV9LHM9e307cmV0dXJuIE9iamVjdC5rZXlzKGEpLmZvckVhY2goKGU9PntyW2VdPWFbZV0sVy5pbmNsdWRlcyhlKXx8KHNbZV09YVtlXSk7fSkpLHtlbmNvZGVkOntoZWFkZXI6aSxwYXlsb2FkOm8sc2lnbmF0dXJlOm59LGhlYWRlcjpKU09OLnBhcnNlKGIoaSkpLGNsYWltczpyLHVzZXI6c319KShlLmlkX3Rva2VuKTtpZighdC5jbGFpbXMuaXNzKXRocm93IG5ldyBFcnJvcihcIklzc3VlciAoaXNzKSBjbGFpbSBtdXN0IGJlIGEgc3RyaW5nIHByZXNlbnQgaW4gdGhlIElEIHRva2VuXCIpO2lmKHQuY2xhaW1zLmlzcyE9PWUuaXNzKXRocm93IG5ldyBFcnJvcihgSXNzdWVyIChpc3MpIGNsYWltIG1pc21hdGNoIGluIHRoZSBJRCB0b2tlbjsgZXhwZWN0ZWQgXCIke2UuaXNzfVwiLCBmb3VuZCBcIiR7dC5jbGFpbXMuaXNzfVwiYCk7aWYoIXQudXNlci5zdWIpdGhyb3cgbmV3IEVycm9yKFwiU3ViamVjdCAoc3ViKSBjbGFpbSBtdXN0IGJlIGEgc3RyaW5nIHByZXNlbnQgaW4gdGhlIElEIHRva2VuXCIpO2lmKFwiUlMyNTZcIiE9PXQuaGVhZGVyLmFsZyl0aHJvdyBuZXcgRXJyb3IoYFNpZ25hdHVyZSBhbGdvcml0aG0gb2YgXCIke3QuaGVhZGVyLmFsZ31cIiBpcyBub3Qgc3VwcG9ydGVkLiBFeHBlY3RlZCB0aGUgSUQgdG9rZW4gdG8gYmUgc2lnbmVkIHdpdGggXCJSUzI1NlwiLmApO2lmKCF0LmNsYWltcy5hdWR8fFwic3RyaW5nXCIhPXR5cGVvZiB0LmNsYWltcy5hdWQmJiFBcnJheS5pc0FycmF5KHQuY2xhaW1zLmF1ZCkpdGhyb3cgbmV3IEVycm9yKFwiQXVkaWVuY2UgKGF1ZCkgY2xhaW0gbXVzdCBiZSBhIHN0cmluZyBvciBhcnJheSBvZiBzdHJpbmdzIHByZXNlbnQgaW4gdGhlIElEIHRva2VuXCIpO2lmKEFycmF5LmlzQXJyYXkodC5jbGFpbXMuYXVkKSl7aWYoIXQuY2xhaW1zLmF1ZC5pbmNsdWRlcyhlLmF1ZCkpdGhyb3cgbmV3IEVycm9yKGBBdWRpZW5jZSAoYXVkKSBjbGFpbSBtaXNtYXRjaCBpbiB0aGUgSUQgdG9rZW47IGV4cGVjdGVkIFwiJHtlLmF1ZH1cIiBidXQgd2FzIG5vdCBvbmUgb2YgXCIke3QuY2xhaW1zLmF1ZC5qb2luKFwiLCBcIil9XCJgKTtpZih0LmNsYWltcy5hdWQubGVuZ3RoPjEpe2lmKCF0LmNsYWltcy5henApdGhyb3cgbmV3IEVycm9yKFwiQXV0aG9yaXplZCBQYXJ0eSAoYXpwKSBjbGFpbSBtdXN0IGJlIGEgc3RyaW5nIHByZXNlbnQgaW4gdGhlIElEIHRva2VuIHdoZW4gQXVkaWVuY2UgKGF1ZCkgY2xhaW0gaGFzIG11bHRpcGxlIHZhbHVlc1wiKTtpZih0LmNsYWltcy5henAhPT1lLmF1ZCl0aHJvdyBuZXcgRXJyb3IoYEF1dGhvcml6ZWQgUGFydHkgKGF6cCkgY2xhaW0gbWlzbWF0Y2ggaW4gdGhlIElEIHRva2VuOyBleHBlY3RlZCBcIiR7ZS5hdWR9XCIsIGZvdW5kIFwiJHt0LmNsYWltcy5henB9XCJgKX19ZWxzZSBpZih0LmNsYWltcy5hdWQhPT1lLmF1ZCl0aHJvdyBuZXcgRXJyb3IoYEF1ZGllbmNlIChhdWQpIGNsYWltIG1pc21hdGNoIGluIHRoZSBJRCB0b2tlbjsgZXhwZWN0ZWQgXCIke2UuYXVkfVwiIGJ1dCBmb3VuZCBcIiR7dC5jbGFpbXMuYXVkfVwiYCk7aWYoZS5ub25jZSl7aWYoIXQuY2xhaW1zLm5vbmNlKXRocm93IG5ldyBFcnJvcihcIk5vbmNlIChub25jZSkgY2xhaW0gbXVzdCBiZSBhIHN0cmluZyBwcmVzZW50IGluIHRoZSBJRCB0b2tlblwiKTtpZih0LmNsYWltcy5ub25jZSE9PWUubm9uY2UpdGhyb3cgbmV3IEVycm9yKGBOb25jZSAobm9uY2UpIGNsYWltIG1pc21hdGNoIGluIHRoZSBJRCB0b2tlbjsgZXhwZWN0ZWQgXCIke2Uubm9uY2V9XCIsIGZvdW5kIFwiJHt0LmNsYWltcy5ub25jZX1cImApfWlmKGUubWF4X2FnZSYmIUsodC5jbGFpbXMuYXV0aF90aW1lKSl0aHJvdyBuZXcgRXJyb3IoXCJBdXRoZW50aWNhdGlvbiBUaW1lIChhdXRoX3RpbWUpIGNsYWltIG11c3QgYmUgYSBudW1iZXIgcHJlc2VudCBpbiB0aGUgSUQgdG9rZW4gd2hlbiBNYXggQWdlIChtYXhfYWdlKSBpcyBzcGVjaWZpZWRcIik7aWYobnVsbD09dC5jbGFpbXMuZXhwfHwhSyh0LmNsYWltcy5leHApKXRocm93IG5ldyBFcnJvcihcIkV4cGlyYXRpb24gVGltZSAoZXhwKSBjbGFpbSBtdXN0IGJlIGEgbnVtYmVyIHByZXNlbnQgaW4gdGhlIElEIHRva2VuXCIpO2lmKCFLKHQuY2xhaW1zLmlhdCkpdGhyb3cgbmV3IEVycm9yKFwiSXNzdWVkIEF0IChpYXQpIGNsYWltIG11c3QgYmUgYSBudW1iZXIgcHJlc2VudCBpbiB0aGUgSUQgdG9rZW5cIik7Y29uc3QgaT1lLmxlZXdheXx8NjAsbz1uZXcgRGF0ZShlLm5vd3x8RGF0ZS5ub3coKSksbj1uZXcgRGF0ZSgwKTtpZihuLnNldFVUQ1NlY29uZHModC5jbGFpbXMuZXhwK2kpLG8+bil0aHJvdyBuZXcgRXJyb3IoYEV4cGlyYXRpb24gVGltZSAoZXhwKSBjbGFpbSBlcnJvciBpbiB0aGUgSUQgdG9rZW47IGN1cnJlbnQgdGltZSAoJHtvfSkgaXMgYWZ0ZXIgZXhwaXJhdGlvbiB0aW1lICgke259KWApO2lmKG51bGwhPXQuY2xhaW1zLm5iZiYmSyh0LmNsYWltcy5uYmYpKXtjb25zdCBlPW5ldyBEYXRlKDApO2lmKGUuc2V0VVRDU2Vjb25kcyh0LmNsYWltcy5uYmYtaSksbzxlKXRocm93IG5ldyBFcnJvcihgTm90IEJlZm9yZSB0aW1lIChuYmYpIGNsYWltIGluIHRoZSBJRCB0b2tlbiBpbmRpY2F0ZXMgdGhhdCB0aGlzIHRva2VuIGNhbid0IGJlIHVzZWQganVzdCB5ZXQuIEN1cnJlbnQgdGltZSAoJHtvfSkgaXMgYmVmb3JlICR7ZX1gKX1pZihudWxsIT10LmNsYWltcy5hdXRoX3RpbWUmJksodC5jbGFpbXMuYXV0aF90aW1lKSl7Y29uc3Qgbj1uZXcgRGF0ZSgwKTtpZihuLnNldFVUQ1NlY29uZHMocGFyc2VJbnQodC5jbGFpbXMuYXV0aF90aW1lKStlLm1heF9hZ2UraSksbz5uKXRocm93IG5ldyBFcnJvcihgQXV0aGVudGljYXRpb24gVGltZSAoYXV0aF90aW1lKSBjbGFpbSBpbiB0aGUgSUQgdG9rZW4gaW5kaWNhdGVzIHRoYXQgdG9vIG11Y2ggdGltZSBoYXMgcGFzc2VkIHNpbmNlIHRoZSBsYXN0IGVuZC11c2VyIGF1dGhlbnRpY2F0aW9uLiBDdXJyZW50IHRpbWUgKCR7b30pIGlzIGFmdGVyIGxhc3QgYXV0aCBhdCAke259YCl9aWYoZS5vcmdhbml6YXRpb24pe2NvbnN0IGk9ZS5vcmdhbml6YXRpb24udHJpbSgpO2lmKGkuc3RhcnRzV2l0aChcIm9yZ19cIikpe2NvbnN0IGU9aTtpZighdC5jbGFpbXMub3JnX2lkKXRocm93IG5ldyBFcnJvcihcIk9yZ2FuaXphdGlvbiBJRCAob3JnX2lkKSBjbGFpbSBtdXN0IGJlIGEgc3RyaW5nIHByZXNlbnQgaW4gdGhlIElEIHRva2VuXCIpO2lmKGUhPT10LmNsYWltcy5vcmdfaWQpdGhyb3cgbmV3IEVycm9yKGBPcmdhbml6YXRpb24gSUQgKG9yZ19pZCkgY2xhaW0gbWlzbWF0Y2ggaW4gdGhlIElEIHRva2VuOyBleHBlY3RlZCBcIiR7ZX1cIiwgZm91bmQgXCIke3QuY2xhaW1zLm9yZ19pZH1cImApfWVsc2Uge2NvbnN0IGU9aS50b0xvd2VyQ2FzZSgpO2lmKCF0LmNsYWltcy5vcmdfbmFtZSl0aHJvdyBuZXcgRXJyb3IoXCJPcmdhbml6YXRpb24gTmFtZSAob3JnX25hbWUpIGNsYWltIG11c3QgYmUgYSBzdHJpbmcgcHJlc2VudCBpbiB0aGUgSUQgdG9rZW5cIik7aWYoZSE9PXQuY2xhaW1zLm9yZ19uYW1lKXRocm93IG5ldyBFcnJvcihgT3JnYW5pemF0aW9uIE5hbWUgKG9yZ19uYW1lKSBjbGFpbSBtaXNtYXRjaCBpbiB0aGUgSUQgdG9rZW47IGV4cGVjdGVkIFwiJHtlfVwiLCBmb3VuZCBcIiR7dC5jbGFpbXMub3JnX25hbWV9XCJgKX19cmV0dXJuIHR9O3ZhciBSPW8oKGZ1bmN0aW9uKGUsaSl7dmFyIG89dCYmdC5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4gbz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQsaT0xLG89YXJndW1lbnRzLmxlbmd0aDtpPG87aSsrKWZvcih2YXIgbiBpbiB0PWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSk7cmV0dXJuIGV9LG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiBuKGUsdCl7aWYoIXQpcmV0dXJuIFwiXCI7dmFyIGk9XCI7IFwiK2U7cmV0dXJuICEwPT09dD9pOmkrXCI9XCIrdH1mdW5jdGlvbiBhKGUsdCxpKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8NUV8NjB8N0MpL2csZGVjb2RlVVJJQ29tcG9uZW50KS5yZXBsYWNlKC9cXCgvZyxcIiUyOFwiKS5yZXBsYWNlKC9cXCkvZyxcIiUyOVwiKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnwzQXwzQ3wzRXwzRHwyRnwzRnw0MHw1Qnw1RHw1RXw2MHw3Qnw3RHw3QykvZyxkZWNvZGVVUklDb21wb25lbnQpK2Z1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlLmV4cGlyZXMpe3ZhciB0PW5ldyBEYXRlO3Quc2V0TWlsbGlzZWNvbmRzKHQuZ2V0TWlsbGlzZWNvbmRzKCkrODY0ZTUqZS5leHBpcmVzKSxlLmV4cGlyZXM9dDt9cmV0dXJuIG4oXCJFeHBpcmVzXCIsZS5leHBpcmVzP2UuZXhwaXJlcy50b1VUQ1N0cmluZygpOlwiXCIpK24oXCJEb21haW5cIixlLmRvbWFpbikrbihcIlBhdGhcIixlLnBhdGgpK24oXCJTZWN1cmVcIixlLnNlY3VyZSkrbihcIlNhbWVTaXRlXCIsZS5zYW1lU2l0ZSl9KGkpfWZ1bmN0aW9uIHIoZSl7Zm9yKHZhciB0PXt9LGk9ZT9lLnNwbGl0KFwiOyBcIik6W10sbz0vKCVbXFxkQS1GXXsyfSkrL2dpLG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIGE9aVtuXS5zcGxpdChcIj1cIikscj1hLnNsaWNlKDEpLmpvaW4oXCI9XCIpOydcIic9PT1yLmNoYXJBdCgwKSYmKHI9ci5zbGljZSgxLC0xKSk7dHJ5e3RbYVswXS5yZXBsYWNlKG8sZGVjb2RlVVJJQ29tcG9uZW50KV09ci5yZXBsYWNlKG8sZGVjb2RlVVJJQ29tcG9uZW50KTt9Y2F0Y2goZSl7fX1yZXR1cm4gdH1mdW5jdGlvbiBzKCl7cmV0dXJuIHIoZG9jdW1lbnQuY29va2llKX1mdW5jdGlvbiBjKGUsdCxpKXtkb2N1bWVudC5jb29raWU9YShlLHQsbyh7cGF0aDpcIi9cIn0saSkpO31pLl9fZXNNb2R1bGU9ITAsaS5lbmNvZGU9YSxpLnBhcnNlPXIsaS5nZXRBbGw9cyxpLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gcygpW2VdfSxpLnNldD1jLGkucmVtb3ZlPWZ1bmN0aW9uKGUsdCl7YyhlLFwiXCIsbyhvKHt9LHQpLHtleHBpcmVzOi0xfSkpO307fSkpO2koUiksUi5lbmNvZGUsUi5wYXJzZSxSLmdldEFsbDt2YXIgVT1SLmdldCxMPVIuc2V0LEQ9Ui5yZW1vdmU7Y29uc3QgWD17Z2V0KGUpe2NvbnN0IHQ9VShlKTtpZih2b2lkIDAhPT10KXJldHVybiBKU09OLnBhcnNlKHQpfSxzYXZlKGUsdCxpKXtsZXQgbz17fTtcImh0dHBzOlwiPT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sJiYobz17c2VjdXJlOiEwLHNhbWVTaXRlOlwibm9uZVwifSksKG51bGw9PWk/dm9pZCAwOmkuZGF5c1VudGlsRXhwaXJlKSYmKG8uZXhwaXJlcz1pLmRheXNVbnRpbEV4cGlyZSksKG51bGw9PWk/dm9pZCAwOmkuY29va2llRG9tYWluKSYmKG8uZG9tYWluPWkuY29va2llRG9tYWluKSxMKGUsSlNPTi5zdHJpbmdpZnkodCksbyk7fSxyZW1vdmUoZSx0KXtsZXQgaT17fTsobnVsbD09dD92b2lkIDA6dC5jb29raWVEb21haW4pJiYoaS5kb21haW49dC5jb29raWVEb21haW4pLEQoZSxpKTt9fSxOPXtnZXQoZSl7Y29uc3QgdD1YLmdldChlKTtyZXR1cm4gdHx8WC5nZXQoYF9sZWdhY3lfJHtlfWApfSxzYXZlKGUsdCxpKXtsZXQgbz17fTtcImh0dHBzOlwiPT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sJiYobz17c2VjdXJlOiEwfSksKG51bGw9PWk/dm9pZCAwOmkuZGF5c1VudGlsRXhwaXJlKSYmKG8uZXhwaXJlcz1pLmRheXNVbnRpbEV4cGlyZSksKG51bGw9PWk/dm9pZCAwOmkuY29va2llRG9tYWluKSYmKG8uZG9tYWluPWkuY29va2llRG9tYWluKSxMKGBfbGVnYWN5XyR7ZX1gLEpTT04uc3RyaW5naWZ5KHQpLG8pLFguc2F2ZShlLHQsaSk7fSxyZW1vdmUoZSx0KXtsZXQgaT17fTsobnVsbD09dD92b2lkIDA6dC5jb29raWVEb21haW4pJiYoaS5kb21haW49dC5jb29raWVEb21haW4pLEQoZSxpKSxYLnJlbW92ZShlLHQpLFgucmVtb3ZlKGBfbGVnYWN5XyR7ZX1gLHQpO319LEo9e2dldChlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2Vzc2lvblN0b3JhZ2UpcmV0dXJuO2NvbnN0IHQ9c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShlKTtyZXR1cm4gbnVsbCE9dD9KU09OLnBhcnNlKHQpOnZvaWQgMH0sc2F2ZShlLHQpe3Nlc3Npb25TdG9yYWdlLnNldEl0ZW0oZSxKU09OLnN0cmluZ2lmeSh0KSk7fSxyZW1vdmUoZSl7c2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShlKTt9fTtmdW5jdGlvbiBGKGUsdCxpKXt2YXIgbz12b2lkIDA9PT10P251bGw6dCxuPWZ1bmN0aW9uKGUsdCl7dmFyIGk9YXRvYihlKTtpZih0KXtmb3IodmFyIG89bmV3IFVpbnQ4QXJyYXkoaS5sZW5ndGgpLG49MCxhPWkubGVuZ3RoO248YTsrK24pb1tuXT1pLmNoYXJDb2RlQXQobik7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDE2QXJyYXkoby5idWZmZXIpKX1yZXR1cm4gaX0oZSx2b2lkIDAhPT1pJiZpKSxhPW4uaW5kZXhPZihcIlxcblwiLDEwKSsxLHI9bi5zdWJzdHJpbmcoYSkrKG8/XCIvLyMgc291cmNlTWFwcGluZ1VSTD1cIitvOlwiXCIpLHM9bmV3IEJsb2IoW3JdLHt0eXBlOlwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwifSk7cmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwocyl9dmFyIEgsWSxHLFYsTT0oSD1cIkx5b2djbTlzYkhWd0xYQnNkV2RwYmkxM1pXSXRkMjl5YTJWeUxXeHZZV1JsY2lBcUx3b2hablZ1WTNScGIyNG9LWHNpZFhObElITjBjbWxqZENJN1kyeGhjM01nWlNCbGVIUmxibVJ6SUVWeWNtOXllMk52Ym5OMGNuVmpkRzl5S0hRc2NpbDdjM1Z3WlhJb2Npa3NkR2hwY3k1bGNuSnZjajEwTEhSb2FYTXVaWEp5YjNKZlpHVnpZM0pwY0hScGIyNDljaXhQWW1wbFkzUXVjMlYwVUhKdmRHOTBlWEJsVDJZb2RHaHBjeXhsTG5CeWIzUnZkSGx3WlNsOWMzUmhkR2xqSUdaeWIyMVFZWGxzYjJGa0tIdGxjbkp2Y2pwMExHVnljbTl5WDJSbGMyTnlhWEIwYVc5dU9uSjlLWHR5WlhSMWNtNGdibVYzSUdVb2RDeHlLWDE5WTJ4aGMzTWdkQ0JsZUhSbGJtUnpJR1Y3WTI5dWMzUnlkV04wYjNJb1pTeHpLWHR6ZFhCbGNpZ2liV2x6YzJsdVoxOXlaV1p5WlhOb1gzUnZhMlZ1SWl4Z1RXbHpjMmx1WnlCU1pXWnlaWE5vSUZSdmEyVnVJQ2hoZFdScFpXNWpaVG9nSnlSN2NpaGxMRnNpWkdWbVlYVnNkQ0pkS1gwbkxDQnpZMjl3WlRvZ0p5UjdjaWh6S1gwbktXQXBMSFJvYVhNdVlYVmthV1Z1WTJVOVpTeDBhR2x6TG5OamIzQmxQWE1zVDJKcVpXTjBMbk5sZEZCeWIzUnZkSGx3WlU5bUtIUm9hWE1zZEM1d2NtOTBiM1I1Y0dVcGZYMW1kVzVqZEdsdmJpQnlLR1VzZEQxYlhTbDdjbVYwZFhKdUlHVW1KaUYwTG1sdVkyeDFaR1Z6S0dVcFAyVTZJaUo5SW1aMWJtTjBhVzl1SWowOWRIbHdaVzltSUZOMWNIQnlaWE56WldSRmNuSnZjaVltVTNWd2NISmxjM05sWkVWeWNtOXlPMk52Ym5OMElITTlaVDArZTNaaGNudGpiR2xsYm5SSlpEcDBmVDFsTEhJOVpuVnVZM1JwYjI0b1pTeDBLWHQyWVhJZ2NqMTdmVHRtYjNJb2RtRnlJSE1nYVc0Z1pTbFBZbXBsWTNRdWNISnZkRzkwZVhCbExtaGhjMDkzYmxCeWIzQmxjblI1TG1OaGJHd29aU3h6S1NZbWRDNXBibVJsZUU5bUtITXBQREFtSmloeVczTmRQV1ZiYzEwcE8ybG1LRzUxYkd3aFBXVW1KaUptZFc1amRHbHZiaUk5UFhSNWNHVnZaaUJQWW1wbFkzUXVaMlYwVDNkdVVISnZjR1Z5ZEhsVGVXMWliMnh6S1h0MllYSWdiejB3TzJadmNpaHpQVTlpYW1WamRDNW5aWFJQZDI1UWNtOXdaWEowZVZONWJXSnZiSE1vWlNrN2J6eHpMbXhsYm1kMGFEdHZLeXNwZEM1cGJtUmxlRTltS0hOYmIxMHBQREFtSms5aWFtVmpkQzV3Y205MGIzUjVjR1V1Y0hKdmNHVnlkSGxKYzBWdWRXMWxjbUZpYkdVdVkyRnNiQ2hsTEhOYmIxMHBKaVlvY2x0elcyOWRYVDFsVzNOYmIxMWRLWDF5WlhSMWNtNGdjbjBvWlN4YkltTnNhV1Z1ZEVsa0lsMHBPM0psZEhWeWJpQnVaWGNnVlZKTVUyVmhjbU5vVUdGeVlXMXpLQ2hsUFQ1UFltcGxZM1F1YTJWNWN5aGxLUzVtYVd4MFpYSW9LSFE5UG5admFXUWdNQ0U5UFdWYmRGMHBLUzV5WldSMVkyVW9LQ2gwTEhJcFBUNVBZbXBsWTNRdVlYTnphV2R1S0U5aWFtVmpkQzVoYzNOcFoyNG9lMzBzZENrc2UxdHlYVHBsVzNKZGZTa3BMSHQ5S1Nrb1QySnFaV04wTG1GemMybG5iaWg3WTJ4cFpXNTBYMmxrT25SOUxISXBLU2t1ZEc5VGRISnBibWNvS1gwN2JHVjBJRzg5ZTMwN1kyOXVjM1FnYmowb1pTeDBLVDArWUNSN1pYMThKSHQwZldBN1lXUmtSWFpsYm5STWFYTjBaVzVsY2lnaWJXVnpjMkZuWlNJc0tHRnplVzVqS0h0a1lYUmhPbnQwYVcxbGIzVjBPbVVzWVhWMGFEcHlMR1psZEdOb1ZYSnNPbWtzWm1WMFkyaFBjSFJwYjI1ek9tTXNkWE5sUm05eWJVUmhkR0U2WVgwc2NHOXlkSE02VzNCZGZTazlQbnRzWlhRZ1pqdGpiMjV6ZEh0aGRXUnBaVzVqWlRwMUxITmpiM0JsT214OVBYSjhmSHQ5TzNSeWVYdGpiMjV6ZENCeVBXRS9LR1U5UG50amIyNXpkQ0IwUFc1bGR5QlZVa3hUWldGeVkyaFFZWEpoYlhNb1pTa3NjajE3ZlR0eVpYUjFjbTRnZEM1bWIzSkZZV05vS0Nnb1pTeDBLVDArZTNKYmRGMDlaWDBwS1N4eWZTa29ZeTVpYjJSNUtUcEtVMDlPTG5CaGNuTmxLR011WW05a2VTazdhV1lvSVhJdWNtVm1jbVZ6YUY5MGIydGxiaVltSW5KbFpuSmxjMmhmZEc5clpXNGlQVDA5Y2k1bmNtRnVkRjkwZVhCbEtYdGpiMjV6ZENCbFBTZ29aU3gwS1QwK2IxdHVLR1VzZENsZEtTaDFMR3dwTzJsbUtDRmxLWFJvY205M0lHNWxkeUIwS0hVc2JDazdZeTVpYjJSNVBXRS9jeWhQWW1wbFkzUXVZWE56YVdkdUtFOWlhbVZqZEM1aGMzTnBaMjRvZTMwc2Npa3NlM0psWm5KbGMyaGZkRzlyWlc0NlpYMHBLVHBLVTA5T0xuTjBjbWx1WjJsbWVTaFBZbXBsWTNRdVlYTnphV2R1S0U5aWFtVmpkQzVoYzNOcFoyNG9lMzBzY2lrc2UzSmxabkpsYzJoZmRHOXJaVzQ2WlgwcEtYMXNaWFFnYUN4bk95Sm1kVzVqZEdsdmJpSTlQWFI1Y0dWdlppQkJZbTl5ZEVOdmJuUnliMnhzWlhJbUppaG9QVzVsZHlCQlltOXlkRU52Ym5SeWIyeHNaWElzWXk1emFXZHVZV3c5YUM1emFXZHVZV3dwTzNSeWVYdG5QV0YzWVdsMElGQnliMjFwYzJVdWNtRmpaU2hiS0dROVpTeHVaWGNnVUhKdmJXbHpaU2dvWlQwK2MyVjBWR2x0Wlc5MWRDaGxMR1FwS1NrcExHWmxkR05vS0drc1QySnFaV04wTG1GemMybG5iaWg3ZlN4aktTbGRLWDFqWVhSamFDaGxLWHR5WlhSMWNtNGdkbTlwWkNCd0xuQnZjM1JOWlhOellXZGxLSHRsY25KdmNqcGxMbTFsYzNOaFoyVjlLWDFwWmlnaFp5bHlaWFIxY200Z2FDWW1hQzVoWW05eWRDZ3BMSFp2YVdRZ2NDNXdiM04wVFdWemMyRm5aU2g3WlhKeWIzSTZJbFJwYldWdmRYUWdkMmhsYmlCbGVHVmpkWFJwYm1jZ0oyWmxkR05vSnlKOUtUdG1QV0YzWVdsMElHY3Vhbk52YmlncExHWXVjbVZtY21WemFGOTBiMnRsYmo4b0tDaGxMSFFzY2lrOVBudHZXMjRvZEN4eUtWMDlaWDBwS0dZdWNtVm1jbVZ6YUY5MGIydGxiaXgxTEd3cExHUmxiR1YwWlNCbUxuSmxabkpsYzJoZmRHOXJaVzRwT2lnb1pTeDBLVDArZTJSbGJHVjBaU0J2VzI0b1pTeDBLVjE5S1NoMUxHd3BMSEF1Y0c5emRFMWxjM05oWjJVb2UyOXJPbWN1YjJzc2FuTnZianBtZlNsOVkyRjBZMmdvWlNsN2NDNXdiM04wVFdWemMyRm5aU2g3YjJzNklURXNhbk52YmpwN1pYSnliM0k2WlM1bGNuSnZjaXhsY25KdmNsOWtaWE5qY21sd2RHbHZianBsTG0xbGMzTmhaMlY5ZlNsOWRtRnlJR1I5S1NsOUtDazdDZ289XCIsWT1udWxsLEc9ITEsZnVuY3Rpb24oZSl7cmV0dXJuIFY9Vnx8RihILFksRyksbmV3IFdvcmtlcihWLGUpfSk7Y29uc3QgQT17fTtjbGFzcyBCe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5jYWNoZT1lLHRoaXMuY2xpZW50SWQ9dCx0aGlzLm1hbmlmZXN0S2V5PXRoaXMuY3JlYXRlTWFuaWZlc3RLZXlGcm9tKHRoaXMuY2xpZW50SWQpO31hc3luYyBhZGQoZSl7dmFyIHQ7Y29uc3QgaT1uZXcgU2V0KChudWxsPT09KHQ9YXdhaXQgdGhpcy5jYWNoZS5nZXQodGhpcy5tYW5pZmVzdEtleSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmtleXMpfHxbXSk7aS5hZGQoZSksYXdhaXQgdGhpcy5jYWNoZS5zZXQodGhpcy5tYW5pZmVzdEtleSx7a2V5czpbLi4uaV19KTt9YXN5bmMgcmVtb3ZlKGUpe2NvbnN0IHQ9YXdhaXQgdGhpcy5jYWNoZS5nZXQodGhpcy5tYW5pZmVzdEtleSk7aWYodCl7Y29uc3QgaT1uZXcgU2V0KHQua2V5cyk7cmV0dXJuIGkuZGVsZXRlKGUpLGkuc2l6ZT4wP2F3YWl0IHRoaXMuY2FjaGUuc2V0KHRoaXMubWFuaWZlc3RLZXkse2tleXM6Wy4uLmldfSk6YXdhaXQgdGhpcy5jYWNoZS5yZW1vdmUodGhpcy5tYW5pZmVzdEtleSl9fWdldCgpe3JldHVybiB0aGlzLmNhY2hlLmdldCh0aGlzLm1hbmlmZXN0S2V5KX1jbGVhcigpe3JldHVybiB0aGlzLmNhY2hlLnJlbW92ZSh0aGlzLm1hbmlmZXN0S2V5KX1jcmVhdGVNYW5pZmVzdEtleUZyb20oZSl7cmV0dXJuIGBAQGF1dGgwc3BhanNAQDo6JHtlfWB9fWNvbnN0ICQ9e21lbW9yeTooKT0+KG5ldyBQKS5lbmNsb3NlZENhY2hlLGxvY2Fsc3RvcmFnZTooKT0+bmV3IEN9LHE9ZT0+JFtlXSxRPXQ9Pntjb25zdHtvcGVuVXJsOmksb25SZWRpcmVjdDpvfT10LG49ZSh0LFtcIm9wZW5VcmxcIixcIm9uUmVkaXJlY3RcIl0pO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbikse29wZW5Vcmw6ITE9PT1pfHxpP2k6b30pfSxlZT1uZXcgYTtjbGFzcyB0ZXtjb25zdHJ1Y3RvcihlKXtsZXQgdCxpO2lmKHRoaXMudXNlckNhY2hlPShuZXcgUCkuZW5jbG9zZWRDYWNoZSx0aGlzLmRlZmF1bHRPcHRpb25zPXthdXRob3JpemF0aW9uUGFyYW1zOntzY29wZTpcIm9wZW5pZCBwcm9maWxlIGVtYWlsXCJ9LHVzZVJlZnJlc2hUb2tlbnNGYWxsYmFjazohMSx1c2VGb3JtRGF0YTohMH0sdGhpcy5fcmVsZWFzZUxvY2tPblBhZ2VIaWRlPWFzeW5jKCk9Pnthd2FpdCBlZS5yZWxlYXNlTG9jayhcImF1dGgwLmxvY2suZ2V0VG9rZW5TaWxlbnRseVwiKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsdGhpcy5fcmVsZWFzZUxvY2tPblBhZ2VIaWRlKTt9LHRoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLmRlZmF1bHRPcHRpb25zKSxlKSx7YXV0aG9yaXphdGlvblBhcmFtczpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5kZWZhdWx0T3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1zKSxlLmF1dGhvcml6YXRpb25QYXJhbXMpfSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKCgpPT57aWYoIXcoKSl0aHJvdyBuZXcgRXJyb3IoXCJGb3Igc2VjdXJpdHkgcmVhc29ucywgYHdpbmRvdy5jcnlwdG9gIGlzIHJlcXVpcmVkIHRvIHJ1biBgYXV0aDAtc3BhLWpzYC5cIik7aWYodm9pZCAwPT09dygpLnN1YnRsZSl0aHJvdyBuZXcgRXJyb3IoXCJcXG4gICAgICBhdXRoMC1zcGEtanMgbXVzdCBydW4gb24gYSBzZWN1cmUgb3JpZ2luLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2F1dGgwL2F1dGgwLXNwYS1qcy9ibG9iL21haW4vRkFRLm1kI3doeS1kby1pLWdldC1hdXRoMC1zcGEtanMtbXVzdC1ydW4tb24tYS1zZWN1cmUtb3JpZ2luIGZvciBtb3JlIGluZm9ybWF0aW9uLlxcbiAgICBcIil9KSgpLGUuY2FjaGUmJmUuY2FjaGVMb2NhdGlvbiYmY29uc29sZS53YXJuKFwiQm90aCBgY2FjaGVgIGFuZCBgY2FjaGVMb2NhdGlvbmAgb3B0aW9ucyBoYXZlIGJlZW4gc3BlY2lmaWVkIGluIHRoZSBBdXRoMENsaWVudCBjb25maWd1cmF0aW9uOyBpZ25vcmluZyBgY2FjaGVMb2NhdGlvbmAgYW5kIHVzaW5nIGBjYWNoZWAuXCIpLGUuY2FjaGUpaT1lLmNhY2hlO2Vsc2Uge2lmKHQ9ZS5jYWNoZUxvY2F0aW9ufHxcIm1lbW9yeVwiLCFxKHQpKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjYWNoZSBsb2NhdGlvbiBcIiR7dH1cImApO2k9cSh0KSgpO310aGlzLmh0dHBUaW1lb3V0TXM9ZS5odHRwVGltZW91dEluU2Vjb25kcz8xZTMqZS5odHRwVGltZW91dEluU2Vjb25kczoxZTQsdGhpcy5jb29raWVTdG9yYWdlPSExPT09ZS5sZWdhY3lTYW1lU2l0ZUNvb2tpZT9YOk4sdGhpcy5vcmdIaW50Q29va2llTmFtZT1gYXV0aDAuJHt0aGlzLm9wdGlvbnMuY2xpZW50SWR9Lm9yZ2FuaXphdGlvbl9oaW50YCx0aGlzLmlzQXV0aGVudGljYXRlZENvb2tpZU5hbWU9KGU9PmBhdXRoMC4ke2V9LmlzLmF1dGhlbnRpY2F0ZWRgKSh0aGlzLm9wdGlvbnMuY2xpZW50SWQpLHRoaXMuc2Vzc2lvbkNoZWNrRXhwaXJ5RGF5cz1lLnNlc3Npb25DaGVja0V4cGlyeURheXN8fDE7Y29uc3Qgbz1lLnVzZUNvb2tpZXNGb3JUcmFuc2FjdGlvbnM/dGhpcy5jb29raWVTdG9yYWdlOko7dmFyIG47dGhpcy5zY29wZT1qKFwib3BlbmlkXCIsdGhpcy5vcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXMuc2NvcGUsdGhpcy5vcHRpb25zLnVzZVJlZnJlc2hUb2tlbnM/XCJvZmZsaW5lX2FjY2Vzc1wiOlwiXCIpLHRoaXMudHJhbnNhY3Rpb25NYW5hZ2VyPW5ldyBaKG8sdGhpcy5vcHRpb25zLmNsaWVudElkLHRoaXMub3B0aW9ucy5jb29raWVEb21haW4pLHRoaXMubm93UHJvdmlkZXI9dGhpcy5vcHRpb25zLm5vd1Byb3ZpZGVyfHxjLHRoaXMuY2FjaGVNYW5hZ2VyPW5ldyB4KGksaS5hbGxLZXlzP3ZvaWQgMDpuZXcgQihpLHRoaXMub3B0aW9ucy5jbGllbnRJZCksdGhpcy5ub3dQcm92aWRlciksdGhpcy5kb21haW5Vcmw9KG49dGhpcy5vcHRpb25zLmRvbWFpbiwvXmh0dHBzPzpcXC9cXC8vLnRlc3Qobik/bjpgaHR0cHM6Ly8ke259YCksdGhpcy50b2tlbklzc3Vlcj0oKGUsdCk9PmU/ZS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIik/ZTpgaHR0cHM6Ly8ke2V9L2A6YCR7dH0vYCkodGhpcy5vcHRpb25zLmlzc3Vlcix0aGlzLmRvbWFpblVybCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LldvcmtlciYmdGhpcy5vcHRpb25zLnVzZVJlZnJlc2hUb2tlbnMmJlwibWVtb3J5XCI9PT10JiYodGhpcy5vcHRpb25zLndvcmtlclVybD90aGlzLndvcmtlcj1uZXcgV29ya2VyKHRoaXMub3B0aW9ucy53b3JrZXJVcmwpOnRoaXMud29ya2VyPW5ldyBNKTt9X3VybChlKXtjb25zdCB0PWVuY29kZVVSSUNvbXBvbmVudChidG9hKEpTT04uc3RyaW5naWZ5KHRoaXMub3B0aW9ucy5hdXRoMENsaWVudHx8cykpKTtyZXR1cm4gYCR7dGhpcy5kb21haW5Vcmx9JHtlfSZhdXRoMENsaWVudD0ke3R9YH1fYXV0aG9yaXplVXJsKGUpe3JldHVybiB0aGlzLl91cmwoYC9hdXRob3JpemU/JHt2KGUpfWApfWFzeW5jIF92ZXJpZnlJZFRva2VuKGUsdCxpKXtjb25zdCBvPWF3YWl0IHRoaXMubm93UHJvdmlkZXIoKTtyZXR1cm4gRSh7aXNzOnRoaXMudG9rZW5Jc3N1ZXIsYXVkOnRoaXMub3B0aW9ucy5jbGllbnRJZCxpZF90b2tlbjplLG5vbmNlOnQsb3JnYW5pemF0aW9uOmksbGVld2F5OnRoaXMub3B0aW9ucy5sZWV3YXksbWF4X2FnZToobj10aGlzLm9wdGlvbnMuYXV0aG9yaXphdGlvblBhcmFtcy5tYXhfYWdlLFwic3RyaW5nXCIhPXR5cGVvZiBuP246cGFyc2VJbnQobiwxMCl8fHZvaWQgMCksbm93Om99KTt2YXIgbjt9X3Byb2Nlc3NPcmdIaW50KGUpe2U/dGhpcy5jb29raWVTdG9yYWdlLnNhdmUodGhpcy5vcmdIaW50Q29va2llTmFtZSxlLHtkYXlzVW50aWxFeHBpcmU6dGhpcy5zZXNzaW9uQ2hlY2tFeHBpcnlEYXlzLGNvb2tpZURvbWFpbjp0aGlzLm9wdGlvbnMuY29va2llRG9tYWlufSk6dGhpcy5jb29raWVTdG9yYWdlLnJlbW92ZSh0aGlzLm9yZ0hpbnRDb29raWVOYW1lLHtjb29raWVEb21haW46dGhpcy5vcHRpb25zLmNvb2tpZURvbWFpbn0pO31hc3luYyBfcHJlcGFyZUF1dGhvcml6ZVVybChlLHQsaSl7Y29uc3Qgbz1rKHkoKSksbj1rKHkoKSksYT15KCkscj0oZT0+e2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIChlPT57Y29uc3QgdD17XCIrXCI6XCItXCIsXCIvXCI6XCJfXCIsXCI9XCI6XCJcIn07cmV0dXJuIGUucmVwbGFjZSgvWysvPV0vZywoZT0+dFtlXSkpfSkod2luZG93LmJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZSguLi5BcnJheS5mcm9tKHQpKSkpfSkoYXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9dygpLnN1YnRsZS5kaWdlc3Qoe25hbWU6XCJTSEEtMjU2XCJ9LChuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKSk7cmV0dXJuIGF3YWl0IHR9KShhKSkscz0oKGUsdCxpLG8sbixhLHIscyk9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtjbGllbnRfaWQ6ZS5jbGllbnRJZH0sZS5hdXRob3JpemF0aW9uUGFyYW1zKSxpKSx7c2NvcGU6aih0LGkuc2NvcGUpLHJlc3BvbnNlX3R5cGU6XCJjb2RlXCIscmVzcG9uc2VfbW9kZTpzfHxcInF1ZXJ5XCIsc3RhdGU6byxub25jZTpuLHJlZGlyZWN0X3VyaTpyfHxlLmF1dGhvcml6YXRpb25QYXJhbXMucmVkaXJlY3RfdXJpLGNvZGVfY2hhbGxlbmdlOmEsY29kZV9jaGFsbGVuZ2VfbWV0aG9kOlwiUzI1NlwifSkpKHRoaXMub3B0aW9ucyx0aGlzLnNjb3BlLGUsbyxuLHIsZS5yZWRpcmVjdF91cml8fHRoaXMub3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1zLnJlZGlyZWN0X3VyaXx8aSxudWxsPT10P3ZvaWQgMDp0LnJlc3BvbnNlX21vZGUpLGM9dGhpcy5fYXV0aG9yaXplVXJsKHMpO3JldHVybiB7bm9uY2U6bixjb2RlX3ZlcmlmaWVyOmEsc2NvcGU6cy5zY29wZSxhdWRpZW5jZTpzLmF1ZGllbmNlfHxcImRlZmF1bHRcIixyZWRpcmVjdF91cmk6cy5yZWRpcmVjdF91cmksc3RhdGU6byx1cmw6Y319YXN5bmMgbG9naW5XaXRoUG9wdXAoZSx0KXt2YXIgaTtpZihlPWV8fHt9LCEodD10fHx7fSkucG9wdXAmJih0LnBvcHVwPShlPT57Y29uc3QgdD13aW5kb3cuc2NyZWVuWCsod2luZG93LmlubmVyV2lkdGgtNDAwKS8yLGk9d2luZG93LnNjcmVlblkrKHdpbmRvdy5pbm5lckhlaWdodC02MDApLzI7cmV0dXJuIHdpbmRvdy5vcGVuKGUsXCJhdXRoMDphdXRob3JpemU6cG9wdXBcIixgbGVmdD0ke3R9LHRvcD0ke2l9LHdpZHRoPTQwMCxoZWlnaHQ9NjAwLHJlc2l6YWJsZSxzY3JvbGxiYXJzPXllcyxzdGF0dXM9MWApfSkoXCJcIiksIXQucG9wdXApKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBvcGVuIGEgcG9wdXAgZm9yIGxvZ2luV2l0aFBvcHVwIC0gd2luZG93Lm9wZW4gcmV0dXJuZWQgYG51bGxgXCIpO2NvbnN0IG89YXdhaXQgdGhpcy5fcHJlcGFyZUF1dGhvcml6ZVVybChlLmF1dGhvcml6YXRpb25QYXJhbXN8fHt9LHtyZXNwb25zZV9tb2RlOlwid2ViX21lc3NhZ2VcIn0sd2luZG93LmxvY2F0aW9uLm9yaWdpbik7dC5wb3B1cC5sb2NhdGlvbi5ocmVmPW8udXJsO2NvbnN0IG49YXdhaXQoZT0+bmV3IFByb21pc2UoKCh0LGkpPT57bGV0IG87Y29uc3Qgbj1zZXRJbnRlcnZhbCgoKCk9PntlLnBvcHVwJiZlLnBvcHVwLmNsb3NlZCYmKGNsZWFySW50ZXJ2YWwobiksY2xlYXJUaW1lb3V0KGEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLG8sITEpLGkobmV3IHAoZS5wb3B1cCkpKTt9KSwxZTMpLGE9c2V0VGltZW91dCgoKCk9PntjbGVhckludGVydmFsKG4pLGkobmV3IGgoZS5wb3B1cCkpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLG8sITEpO30pLDFlMyooZS50aW1lb3V0SW5TZWNvbmRzfHw2MCkpO289ZnVuY3Rpb24ocil7aWYoci5kYXRhJiZcImF1dGhvcml6YXRpb25fcmVzcG9uc2VcIj09PXIuZGF0YS50eXBlKXtpZihjbGVhclRpbWVvdXQoYSksY2xlYXJJbnRlcnZhbChuKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixvLCExKSxlLnBvcHVwLmNsb3NlKCksci5kYXRhLnJlc3BvbnNlLmVycm9yKXJldHVybiBpKHUuZnJvbVBheWxvYWQoci5kYXRhLnJlc3BvbnNlKSk7dChyLmRhdGEucmVzcG9uc2UpO319LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLG8pO30pKSkoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHt0aW1lb3V0SW5TZWNvbmRzOnQudGltZW91dEluU2Vjb25kc3x8dGhpcy5vcHRpb25zLmF1dGhvcml6ZVRpbWVvdXRJblNlY29uZHN8fDYwfSkpO2lmKG8uc3RhdGUhPT1uLnN0YXRlKXRocm93IG5ldyB1KFwic3RhdGVfbWlzbWF0Y2hcIixcIkludmFsaWQgc3RhdGVcIik7Y29uc3QgYT0obnVsbD09PShpPWUuYXV0aG9yaXphdGlvblBhcmFtcyl8fHZvaWQgMD09PWk/dm9pZCAwOmkub3JnYW5pemF0aW9uKXx8dGhpcy5vcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXMub3JnYW5pemF0aW9uO2F3YWl0IHRoaXMuX3JlcXVlc3RUb2tlbih7YXVkaWVuY2U6by5hdWRpZW5jZSxzY29wZTpvLnNjb3BlLGNvZGVfdmVyaWZpZXI6by5jb2RlX3ZlcmlmaWVyLGdyYW50X3R5cGU6XCJhdXRob3JpemF0aW9uX2NvZGVcIixjb2RlOm4uY29kZSxyZWRpcmVjdF91cmk6by5yZWRpcmVjdF91cml9LHtub25jZUluOm8ubm9uY2Usb3JnYW5pemF0aW9uOmF9KTt9YXN5bmMgZ2V0VXNlcigpe3ZhciBlO2NvbnN0IHQ9YXdhaXQgdGhpcy5fZ2V0SWRUb2tlbkZyb21DYWNoZSgpO3JldHVybiBudWxsPT09KGU9bnVsbD09dD92b2lkIDA6dC5kZWNvZGVkVG9rZW4pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnVzZXJ9YXN5bmMgZ2V0SWRUb2tlbkNsYWltcygpe3ZhciBlO2NvbnN0IHQ9YXdhaXQgdGhpcy5fZ2V0SWRUb2tlbkZyb21DYWNoZSgpO3JldHVybiBudWxsPT09KGU9bnVsbD09dD92b2lkIDA6dC5kZWNvZGVkVG9rZW4pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNsYWltc31hc3luYyBsb2dpbldpdGhSZWRpcmVjdCh0PXt9KXt2YXIgaTtjb25zdCBvPVEodCkse29wZW5Vcmw6bixmcmFnbWVudDphLGFwcFN0YXRlOnJ9PW8scz1lKG8sW1wib3BlblVybFwiLFwiZnJhZ21lbnRcIixcImFwcFN0YXRlXCJdKSxjPShudWxsPT09KGk9cy5hdXRob3JpemF0aW9uUGFyYW1zKXx8dm9pZCAwPT09aT92b2lkIDA6aS5vcmdhbml6YXRpb24pfHx0aGlzLm9wdGlvbnMuYXV0aG9yaXphdGlvblBhcmFtcy5vcmdhbml6YXRpb24sdT1hd2FpdCB0aGlzLl9wcmVwYXJlQXV0aG9yaXplVXJsKHMuYXV0aG9yaXphdGlvblBhcmFtc3x8e30pLHt1cmw6ZH09dSxsPWUodSxbXCJ1cmxcIl0pO3RoaXMudHJhbnNhY3Rpb25NYW5hZ2VyLmNyZWF0ZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxsKSx7YXBwU3RhdGU6cn0pLGMmJntvcmdhbml6YXRpb246Y30pKTtjb25zdCBoPWE/YCR7ZH0jJHthfWA6ZDtuP2F3YWl0IG4oaCk6d2luZG93LmxvY2F0aW9uLmFzc2lnbihoKTt9YXN5bmMgaGFuZGxlUmVkaXJlY3RDYWxsYmFjayhlPXdpbmRvdy5sb2NhdGlvbi5ocmVmKXtjb25zdCB0PWUuc3BsaXQoXCI/XCIpLnNsaWNlKDEpO2lmKDA9PT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSBhcmUgbm8gcXVlcnkgcGFyYW1zIGF2YWlsYWJsZSBmb3IgcGFyc2luZy5cIik7Y29uc3R7c3RhdGU6aSxjb2RlOm8sZXJyb3I6bixlcnJvcl9kZXNjcmlwdGlvbjphfT0oZT0+e2UuaW5kZXhPZihcIiNcIik+LTEmJihlPWUuc3Vic3RyaW5nKDAsZS5pbmRleE9mKFwiI1wiKSkpO2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKTtyZXR1cm4ge3N0YXRlOnQuZ2V0KFwic3RhdGVcIiksY29kZTp0LmdldChcImNvZGVcIil8fHZvaWQgMCxlcnJvcjp0LmdldChcImVycm9yXCIpfHx2b2lkIDAsZXJyb3JfZGVzY3JpcHRpb246dC5nZXQoXCJlcnJvcl9kZXNjcmlwdGlvblwiKXx8dm9pZCAwfX0pKHQuam9pbihcIlwiKSkscj10aGlzLnRyYW5zYWN0aW9uTWFuYWdlci5nZXQoKTtpZighcil0aHJvdyBuZXcgdShcIm1pc3NpbmdfdHJhbnNhY3Rpb25cIixcIkludmFsaWQgc3RhdGVcIik7aWYodGhpcy50cmFuc2FjdGlvbk1hbmFnZXIucmVtb3ZlKCksbil0aHJvdyBuZXcgZChuLGF8fG4saSxyLmFwcFN0YXRlKTtpZighci5jb2RlX3ZlcmlmaWVyfHxyLnN0YXRlJiZyLnN0YXRlIT09aSl0aHJvdyBuZXcgdShcInN0YXRlX21pc21hdGNoXCIsXCJJbnZhbGlkIHN0YXRlXCIpO2NvbnN0IHM9ci5vcmdhbml6YXRpb24sYz1yLm5vbmNlLGw9ci5yZWRpcmVjdF91cmk7cmV0dXJuIGF3YWl0IHRoaXMuX3JlcXVlc3RUb2tlbihPYmplY3QuYXNzaWduKHthdWRpZW5jZTpyLmF1ZGllbmNlLHNjb3BlOnIuc2NvcGUsY29kZV92ZXJpZmllcjpyLmNvZGVfdmVyaWZpZXIsZ3JhbnRfdHlwZTpcImF1dGhvcml6YXRpb25fY29kZVwiLGNvZGU6b30sbD97cmVkaXJlY3RfdXJpOmx9Ont9KSx7bm9uY2VJbjpjLG9yZ2FuaXphdGlvbjpzfSkse2FwcFN0YXRlOnIuYXBwU3RhdGV9fWFzeW5jIGNoZWNrU2Vzc2lvbihlKXtpZighdGhpcy5jb29raWVTdG9yYWdlLmdldCh0aGlzLmlzQXV0aGVudGljYXRlZENvb2tpZU5hbWUpKXtpZighdGhpcy5jb29raWVTdG9yYWdlLmdldChcImF1dGgwLmlzLmF1dGhlbnRpY2F0ZWRcIikpcmV0dXJuO3RoaXMuY29va2llU3RvcmFnZS5zYXZlKHRoaXMuaXNBdXRoZW50aWNhdGVkQ29va2llTmFtZSwhMCx7ZGF5c1VudGlsRXhwaXJlOnRoaXMuc2Vzc2lvbkNoZWNrRXhwaXJ5RGF5cyxjb29raWVEb21haW46dGhpcy5vcHRpb25zLmNvb2tpZURvbWFpbn0pLHRoaXMuY29va2llU3RvcmFnZS5yZW1vdmUoXCJhdXRoMC5pcy5hdXRoZW50aWNhdGVkXCIpO310cnl7YXdhaXQgdGhpcy5nZXRUb2tlblNpbGVudGx5KGUpO31jYXRjaChlKXt9fWFzeW5jIGdldFRva2VuU2lsZW50bHkoZT17fSl7dmFyIHQ7Y29uc3QgaT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe2NhY2hlTW9kZTpcIm9uXCJ9LGUpLHthdXRob3JpemF0aW9uUGFyYW1zOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMub3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1zKSxlLmF1dGhvcml6YXRpb25QYXJhbXMpLHtzY29wZTpqKHRoaXMuc2NvcGUsbnVsbD09PSh0PWUuYXV0aG9yaXphdGlvblBhcmFtcyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2NvcGUpfSl9KSxvPWF3YWl0KChlLHQpPT57bGV0IGk9QVt0XTtyZXR1cm4gaXx8KGk9ZSgpLmZpbmFsbHkoKCgpPT57ZGVsZXRlIEFbdF0saT1udWxsO30pKSxBW3RdPWkpLGl9KSgoKCk9PnRoaXMuX2dldFRva2VuU2lsZW50bHkoaSkpLGAke3RoaXMub3B0aW9ucy5jbGllbnRJZH06OiR7aS5hdXRob3JpemF0aW9uUGFyYW1zLmF1ZGllbmNlfTo6JHtpLmF1dGhvcml6YXRpb25QYXJhbXMuc2NvcGV9YCk7cmV0dXJuIGUuZGV0YWlsZWRSZXNwb25zZT9vOm51bGw9PW8/dm9pZCAwOm8uYWNjZXNzX3Rva2VufWFzeW5jIF9nZXRUb2tlblNpbGVudGx5KHQpe2NvbnN0e2NhY2hlTW9kZTppfT10LG89ZSh0LFtcImNhY2hlTW9kZVwiXSk7aWYoXCJvZmZcIiE9PWkpe2NvbnN0IGU9YXdhaXQgdGhpcy5fZ2V0RW50cnlGcm9tQ2FjaGUoe3Njb3BlOm8uYXV0aG9yaXphdGlvblBhcmFtcy5zY29wZSxhdWRpZW5jZTpvLmF1dGhvcml6YXRpb25QYXJhbXMuYXVkaWVuY2V8fFwiZGVmYXVsdFwiLGNsaWVudElkOnRoaXMub3B0aW9ucy5jbGllbnRJZH0pO2lmKGUpcmV0dXJuIGV9aWYoXCJjYWNoZS1vbmx5XCIhPT1pKXtpZighYXdhaXQoYXN5bmMoZSx0PTMpPT57Zm9yKGxldCBpPTA7aTx0O2krKylpZihhd2FpdCBlKCkpcmV0dXJuICEwO3JldHVybiAhMX0pKCgoKT0+ZWUuYWNxdWlyZUxvY2soXCJhdXRoMC5sb2NrLmdldFRva2VuU2lsZW50bHlcIiw1ZTMpKSwxMCkpdGhyb3cgbmV3IGw7dHJ5e2lmKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIix0aGlzLl9yZWxlYXNlTG9ja09uUGFnZUhpZGUpLFwib2ZmXCIhPT1pKXtjb25zdCBlPWF3YWl0IHRoaXMuX2dldEVudHJ5RnJvbUNhY2hlKHtzY29wZTpvLmF1dGhvcml6YXRpb25QYXJhbXMuc2NvcGUsYXVkaWVuY2U6by5hdXRob3JpemF0aW9uUGFyYW1zLmF1ZGllbmNlfHxcImRlZmF1bHRcIixjbGllbnRJZDp0aGlzLm9wdGlvbnMuY2xpZW50SWR9KTtpZihlKXJldHVybiBlfWNvbnN0IGU9dGhpcy5vcHRpb25zLnVzZVJlZnJlc2hUb2tlbnM/YXdhaXQgdGhpcy5fZ2V0VG9rZW5Vc2luZ1JlZnJlc2hUb2tlbihvKTphd2FpdCB0aGlzLl9nZXRUb2tlbkZyb21JRnJhbWUobykse2lkX3Rva2VuOnQsYWNjZXNzX3Rva2VuOm4sb2F1dGhUb2tlblNjb3BlOmEsZXhwaXJlc19pbjpyfT1lO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe2lkX3Rva2VuOnQsYWNjZXNzX3Rva2VuOm59LGE/e3Njb3BlOmF9Om51bGwpLHtleHBpcmVzX2luOnJ9KX1maW5hbGx5e2F3YWl0IGVlLnJlbGVhc2VMb2NrKFwiYXV0aDAubG9jay5nZXRUb2tlblNpbGVudGx5XCIpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIix0aGlzLl9yZWxlYXNlTG9ja09uUGFnZUhpZGUpO319fWFzeW5jIGdldFRva2VuV2l0aFBvcHVwKGU9e30sdD17fSl7dmFyIGk7Y29uc3Qgbz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse2F1dGhvcml6YXRpb25QYXJhbXM6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5vcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXMpLGUuYXV0aG9yaXphdGlvblBhcmFtcykse3Njb3BlOmoodGhpcy5zY29wZSxudWxsPT09KGk9ZS5hdXRob3JpemF0aW9uUGFyYW1zKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zY29wZSl9KX0pO3Q9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHIpLHQpLGF3YWl0IHRoaXMubG9naW5XaXRoUG9wdXAobyx0KTtyZXR1cm4gKGF3YWl0IHRoaXMuY2FjaGVNYW5hZ2VyLmdldChuZXcgeih7c2NvcGU6by5hdXRob3JpemF0aW9uUGFyYW1zLnNjb3BlLGF1ZGllbmNlOm8uYXV0aG9yaXphdGlvblBhcmFtcy5hdWRpZW5jZXx8XCJkZWZhdWx0XCIsY2xpZW50SWQ6dGhpcy5vcHRpb25zLmNsaWVudElkfSkpKS5hY2Nlc3NfdG9rZW59YXN5bmMgaXNBdXRoZW50aWNhdGVkKCl7cmV0dXJuICEhYXdhaXQgdGhpcy5nZXRVc2VyKCl9X2J1aWxkTG9nb3V0VXJsKHQpe251bGwhPT10LmNsaWVudElkP3QuY2xpZW50SWQ9dC5jbGllbnRJZHx8dGhpcy5vcHRpb25zLmNsaWVudElkOmRlbGV0ZSB0LmNsaWVudElkO2NvbnN0IGk9dC5sb2dvdXRQYXJhbXN8fHt9LHtmZWRlcmF0ZWQ6b309aSxuPWUoaSxbXCJmZWRlcmF0ZWRcIl0pLGE9bz9cIiZmZWRlcmF0ZWRcIjpcIlwiO3JldHVybiB0aGlzLl91cmwoYC92Mi9sb2dvdXQ/JHt2KE9iamVjdC5hc3NpZ24oe2NsaWVudElkOnQuY2xpZW50SWR9LG4pKX1gKSthfWFzeW5jIGxvZ291dCh0PXt9KXtjb25zdCBpPVEodCkse29wZW5Vcmw6b309aSxuPWUoaSxbXCJvcGVuVXJsXCJdKTtudWxsPT09dC5jbGllbnRJZD9hd2FpdCB0aGlzLmNhY2hlTWFuYWdlci5jbGVhcigpOmF3YWl0IHRoaXMuY2FjaGVNYW5hZ2VyLmNsZWFyKHQuY2xpZW50SWR8fHRoaXMub3B0aW9ucy5jbGllbnRJZCksdGhpcy5jb29raWVTdG9yYWdlLnJlbW92ZSh0aGlzLm9yZ0hpbnRDb29raWVOYW1lLHtjb29raWVEb21haW46dGhpcy5vcHRpb25zLmNvb2tpZURvbWFpbn0pLHRoaXMuY29va2llU3RvcmFnZS5yZW1vdmUodGhpcy5pc0F1dGhlbnRpY2F0ZWRDb29raWVOYW1lLHtjb29raWVEb21haW46dGhpcy5vcHRpb25zLmNvb2tpZURvbWFpbn0pLHRoaXMudXNlckNhY2hlLnJlbW92ZShcIkBAdXNlckBAXCIpO2NvbnN0IGE9dGhpcy5fYnVpbGRMb2dvdXRVcmwobik7bz9hd2FpdCBvKGEpOiExIT09byYmd2luZG93LmxvY2F0aW9uLmFzc2lnbihhKTt9YXN5bmMgX2dldFRva2VuRnJvbUlGcmFtZShlKXtjb25zdCB0PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlLmF1dGhvcml6YXRpb25QYXJhbXMpLHtwcm9tcHQ6XCJub25lXCJ9KSxpPXRoaXMuY29va2llU3RvcmFnZS5nZXQodGhpcy5vcmdIaW50Q29va2llTmFtZSk7aSYmIXQub3JnYW5pemF0aW9uJiYodC5vcmdhbml6YXRpb249aSk7Y29uc3R7dXJsOm8sc3RhdGU6bixub25jZTphLGNvZGVfdmVyaWZpZXI6cixyZWRpcmVjdF91cmk6cyxzY29wZTpjLGF1ZGllbmNlOmR9PWF3YWl0IHRoaXMuX3ByZXBhcmVBdXRob3JpemVVcmwodCx7cmVzcG9uc2VfbW9kZTpcIndlYl9tZXNzYWdlXCJ9LHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pO3RyeXtpZih3aW5kb3cuY3Jvc3NPcmlnaW5Jc29sYXRlZCl0aHJvdyBuZXcgdShcImxvZ2luX3JlcXVpcmVkXCIsXCJUaGUgYXBwbGljYXRpb24gaXMgcnVubmluZyBpbiBhIENyb3NzLU9yaWdpbiBJc29sYXRlZCBjb250ZXh0LCBzaWxlbnRseSByZXRyaWV2aW5nIGEgdG9rZW4gd2l0aG91dCByZWZyZXNoIHRva2VuIGlzIG5vdCBwb3NzaWJsZS5cIik7Y29uc3QgaT1lLnRpbWVvdXRJblNlY29uZHN8fHRoaXMub3B0aW9ucy5hdXRob3JpemVUaW1lb3V0SW5TZWNvbmRzO2xldCBoO3RyeXtoPW5ldyBVUkwodGhpcy5kb21haW5VcmwpLm9yaWdpbjt9Y2F0Y2goZSl7aD10aGlzLmRvbWFpblVybDt9Y29uc3QgcD1hd2FpdCgoZSx0LGk9NjApPT5uZXcgUHJvbWlzZSgoKG8sbik9Pntjb25zdCBhPXdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2Euc2V0QXR0cmlidXRlKFwid2lkdGhcIixcIjBcIiksYS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixcIjBcIiksYS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2NvbnN0IHI9KCk9Pnt3aW5kb3cuZG9jdW1lbnQuYm9keS5jb250YWlucyhhKSYmKHdpbmRvdy5kb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHMsITEpKTt9O2xldCBzO2NvbnN0IGM9c2V0VGltZW91dCgoKCk9PntuKG5ldyBsKSxyKCk7fSksMWUzKmkpO3M9ZnVuY3Rpb24oZSl7aWYoZS5vcmlnaW4hPXQpcmV0dXJuO2lmKCFlLmRhdGF8fFwiYXV0aG9yaXphdGlvbl9yZXNwb25zZVwiIT09ZS5kYXRhLnR5cGUpcmV0dXJuO2NvbnN0IGk9ZS5zb3VyY2U7aSYmaS5jbG9zZSgpLGUuZGF0YS5yZXNwb25zZS5lcnJvcj9uKHUuZnJvbVBheWxvYWQoZS5kYXRhLnJlc3BvbnNlKSk6byhlLmRhdGEucmVzcG9uc2UpLGNsZWFyVGltZW91dChjKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixzLCExKSxzZXRUaW1lb3V0KHIsMmUzKTt9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHMsITEpLHdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpLGEuc2V0QXR0cmlidXRlKFwic3JjXCIsZSk7fSkpKShvLGgsaSk7aWYobiE9PXAuc3RhdGUpdGhyb3cgbmV3IHUoXCJzdGF0ZV9taXNtYXRjaFwiLFwiSW52YWxpZCBzdGF0ZVwiKTtjb25zdCBtPWF3YWl0IHRoaXMuX3JlcXVlc3RUb2tlbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5hdXRob3JpemF0aW9uUGFyYW1zKSx7Y29kZV92ZXJpZmllcjpyLGNvZGU6cC5jb2RlLGdyYW50X3R5cGU6XCJhdXRob3JpemF0aW9uX2NvZGVcIixyZWRpcmVjdF91cmk6cyx0aW1lb3V0OmUuYXV0aG9yaXphdGlvblBhcmFtcy50aW1lb3V0fHx0aGlzLmh0dHBUaW1lb3V0TXN9KSx7bm9uY2VJbjphLG9yZ2FuaXphdGlvbjp0Lm9yZ2FuaXphdGlvbn0pO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbSkse3Njb3BlOmMsb2F1dGhUb2tlblNjb3BlOm0uc2NvcGUsYXVkaWVuY2U6ZH0pfWNhdGNoKGUpe3Rocm93IFwibG9naW5fcmVxdWlyZWRcIj09PWUuZXJyb3ImJnRoaXMubG9nb3V0KHtvcGVuVXJsOiExfSksZX19YXN5bmMgX2dldFRva2VuVXNpbmdSZWZyZXNoVG9rZW4oZSl7Y29uc3QgdD1hd2FpdCB0aGlzLmNhY2hlTWFuYWdlci5nZXQobmV3IHooe3Njb3BlOmUuYXV0aG9yaXphdGlvblBhcmFtcy5zY29wZSxhdWRpZW5jZTplLmF1dGhvcml6YXRpb25QYXJhbXMuYXVkaWVuY2V8fFwiZGVmYXVsdFwiLGNsaWVudElkOnRoaXMub3B0aW9ucy5jbGllbnRJZH0pKTtpZighKHQmJnQucmVmcmVzaF90b2tlbnx8dGhpcy53b3JrZXIpKXtpZih0aGlzLm9wdGlvbnMudXNlUmVmcmVzaFRva2Vuc0ZhbGxiYWNrKXJldHVybiBhd2FpdCB0aGlzLl9nZXRUb2tlbkZyb21JRnJhbWUoZSk7dGhyb3cgbmV3IGYoZS5hdXRob3JpemF0aW9uUGFyYW1zLmF1ZGllbmNlfHxcImRlZmF1bHRcIixlLmF1dGhvcml6YXRpb25QYXJhbXMuc2NvcGUpfWNvbnN0IGk9ZS5hdXRob3JpemF0aW9uUGFyYW1zLnJlZGlyZWN0X3VyaXx8dGhpcy5vcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXMucmVkaXJlY3RfdXJpfHx3aW5kb3cubG9jYXRpb24ub3JpZ2luLG89XCJudW1iZXJcIj09dHlwZW9mIGUudGltZW91dEluU2Vjb25kcz8xZTMqZS50aW1lb3V0SW5TZWNvbmRzOm51bGw7dHJ5e2NvbnN0IG49YXdhaXQgdGhpcy5fcmVxdWVzdFRva2VuKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUuYXV0aG9yaXphdGlvblBhcmFtcykse2dyYW50X3R5cGU6XCJyZWZyZXNoX3Rva2VuXCIscmVmcmVzaF90b2tlbjp0JiZ0LnJlZnJlc2hfdG9rZW4scmVkaXJlY3RfdXJpOml9KSxvJiZ7dGltZW91dDpvfSkpO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbikse3Njb3BlOmUuYXV0aG9yaXphdGlvblBhcmFtcy5zY29wZSxvYXV0aFRva2VuU2NvcGU6bi5zY29wZSxhdWRpZW5jZTplLmF1dGhvcml6YXRpb25QYXJhbXMuYXVkaWVuY2V8fFwiZGVmYXVsdFwifSl9Y2F0Y2godCl7aWYoKHQubWVzc2FnZS5pbmRleE9mKFwiTWlzc2luZyBSZWZyZXNoIFRva2VuXCIpPi0xfHx0Lm1lc3NhZ2UmJnQubWVzc2FnZS5pbmRleE9mKFwiaW52YWxpZCByZWZyZXNoIHRva2VuXCIpPi0xKSYmdGhpcy5vcHRpb25zLnVzZVJlZnJlc2hUb2tlbnNGYWxsYmFjaylyZXR1cm4gYXdhaXQgdGhpcy5fZ2V0VG9rZW5Gcm9tSUZyYW1lKGUpO3Rocm93IHR9fWFzeW5jIF9zYXZlRW50cnlJbkNhY2hlKHQpe2NvbnN0e2lkX3Rva2VuOmksZGVjb2RlZFRva2VuOm99PXQsbj1lKHQsW1wiaWRfdG9rZW5cIixcImRlY29kZWRUb2tlblwiXSk7dGhpcy51c2VyQ2FjaGUuc2V0KFwiQEB1c2VyQEBcIix7aWRfdG9rZW46aSxkZWNvZGVkVG9rZW46b30pLGF3YWl0IHRoaXMuY2FjaGVNYW5hZ2VyLnNldElkVG9rZW4odGhpcy5vcHRpb25zLmNsaWVudElkLHQuaWRfdG9rZW4sdC5kZWNvZGVkVG9rZW4pLGF3YWl0IHRoaXMuY2FjaGVNYW5hZ2VyLnNldChuKTt9YXN5bmMgX2dldElkVG9rZW5Gcm9tQ2FjaGUoKXtjb25zdCBlPXRoaXMub3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1zLmF1ZGllbmNlfHxcImRlZmF1bHRcIix0PWF3YWl0IHRoaXMuY2FjaGVNYW5hZ2VyLmdldElkVG9rZW4obmV3IHooe2NsaWVudElkOnRoaXMub3B0aW9ucy5jbGllbnRJZCxhdWRpZW5jZTplLHNjb3BlOnRoaXMuc2NvcGV9KSksaT10aGlzLnVzZXJDYWNoZS5nZXQoXCJAQHVzZXJAQFwiKTtyZXR1cm4gdCYmdC5pZF90b2tlbj09PShudWxsPT1pP3ZvaWQgMDppLmlkX3Rva2VuKT9pOih0aGlzLnVzZXJDYWNoZS5zZXQoXCJAQHVzZXJAQFwiLHQpLHQpfWFzeW5jIF9nZXRFbnRyeUZyb21DYWNoZSh7c2NvcGU6ZSxhdWRpZW5jZTp0LGNsaWVudElkOml9KXtjb25zdCBvPWF3YWl0IHRoaXMuY2FjaGVNYW5hZ2VyLmdldChuZXcgeih7c2NvcGU6ZSxhdWRpZW5jZTp0LGNsaWVudElkOml9KSw2MCk7aWYobyYmby5hY2Nlc3NfdG9rZW4pe2NvbnN0e2FjY2Vzc190b2tlbjplLG9hdXRoVG9rZW5TY29wZTp0LGV4cGlyZXNfaW46aX09byxuPWF3YWl0IHRoaXMuX2dldElkVG9rZW5Gcm9tQ2FjaGUoKTtyZXR1cm4gbiYmT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtpZF90b2tlbjpuLmlkX3Rva2VuLGFjY2Vzc190b2tlbjplfSx0P3tzY29wZTp0fTpudWxsKSx7ZXhwaXJlc19pbjppfSl9fWFzeW5jIF9yZXF1ZXN0VG9rZW4oZSx0KXtjb25zdHtub25jZUluOmksb3JnYW5pemF0aW9uOm99PXR8fHt9LG49YXdhaXQgVChPYmplY3QuYXNzaWduKHtiYXNlVXJsOnRoaXMuZG9tYWluVXJsLGNsaWVudF9pZDp0aGlzLm9wdGlvbnMuY2xpZW50SWQsYXV0aDBDbGllbnQ6dGhpcy5vcHRpb25zLmF1dGgwQ2xpZW50LHVzZUZvcm1EYXRhOnRoaXMub3B0aW9ucy51c2VGb3JtRGF0YSx0aW1lb3V0OnRoaXMuaHR0cFRpbWVvdXRNc30sZSksdGhpcy53b3JrZXIpLGE9YXdhaXQgdGhpcy5fdmVyaWZ5SWRUb2tlbihuLmlkX3Rva2VuLGksbyk7cmV0dXJuIGF3YWl0IHRoaXMuX3NhdmVFbnRyeUluQ2FjaGUoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7ZGVjb2RlZFRva2VuOmEsc2NvcGU6ZS5zY29wZSxhdWRpZW5jZTplLmF1ZGllbmNlfHxcImRlZmF1bHRcIn0pLG4uc2NvcGU/e29hdXRoVG9rZW5TY29wZTpuLnNjb3BlfTpudWxsKSx7Y2xpZW50X2lkOnRoaXMub3B0aW9ucy5jbGllbnRJZH0pKSx0aGlzLmNvb2tpZVN0b3JhZ2Uuc2F2ZSh0aGlzLmlzQXV0aGVudGljYXRlZENvb2tpZU5hbWUsITAse2RheXNVbnRpbEV4cGlyZTp0aGlzLnNlc3Npb25DaGVja0V4cGlyeURheXMsY29va2llRG9tYWluOnRoaXMub3B0aW9ucy5jb29raWVEb21haW59KSx0aGlzLl9wcm9jZXNzT3JnSGludChvfHxhLmNsYWltcy5vcmdfaWQpLE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7ZGVjb2RlZFRva2VuOmF9KX1hc3luYyBleGNoYW5nZVRva2VuKGUpe3JldHVybiB0aGlzLl9yZXF1ZXN0VG9rZW4oe2dyYW50X3R5cGU6XCJ1cm46aWV0ZjpwYXJhbXM6b2F1dGg6Z3JhbnQtdHlwZTp0b2tlbi1leGNoYW5nZVwiLHN1YmplY3RfdG9rZW46ZS5zdWJqZWN0X3Rva2VuLHN1YmplY3RfdG9rZW5fdHlwZTplLnN1YmplY3RfdG9rZW5fdHlwZSxzY29wZTpqKGUuc2NvcGUsdGhpcy5zY29wZSksYXVkaWVuY2U6ZS5hdWRpZW5jZXx8dGhpcy5vcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXMuYXVkaWVuY2V9KX19Y2xhc3MgaWV7fVxuXG4vKipcbiAqIFRoZSBpbml0aWFsIGF1dGggc3RhdGUuXG4gKi9cbnZhciBpbml0aWFsQXV0aFN0YXRlID0ge1xuICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgIGVycm9yOiB1bmRlZmluZWQsXG4gICAgdXNlcjogdW5kZWZpbmVkLFxufTtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbnZhciBzdHViID0gZnVuY3Rpb24gKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignWW91IGZvcmdvdCB0byB3cmFwIHlvdXIgY29tcG9uZW50IGluIDxBdXRoMFByb3ZpZGVyPi4nKTtcbn07XG4vKipcbiAqIEBpZ25vcmVcbiAqL1xudmFyIGluaXRpYWxDb250ZXh0ID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGluaXRpYWxBdXRoU3RhdGUpLCB7IGJ1aWxkQXV0aG9yaXplVXJsOiBzdHViLCBidWlsZExvZ291dFVybDogc3R1YiwgZ2V0QWNjZXNzVG9rZW5TaWxlbnRseTogc3R1YiwgZ2V0QWNjZXNzVG9rZW5XaXRoUG9wdXA6IHN0dWIsIGdldElkVG9rZW5DbGFpbXM6IHN0dWIsIGxvZ2luV2l0aFJlZGlyZWN0OiBzdHViLCBsb2dpbldpdGhQb3B1cDogc3R1YiwgbG9nb3V0OiBzdHViLCBoYW5kbGVSZWRpcmVjdENhbGxiYWNrOiBzdHViIH0pO1xuLyoqXG4gKiBUaGUgQXV0aDAgQ29udGV4dFxuICovXG52YXIgQXV0aDBDb250ZXh0ID0gY3JlYXRlQ29udGV4dChpbml0aWFsQ29udGV4dCk7XG5cbi8qKlxuICogQW4gT0F1dGgyIGVycm9yIHdpbGwgY29tZSBmcm9tIHRoZSBhdXRob3JpemF0aW9uIHNlcnZlciBhbmQgd2lsbCBoYXZlIGF0IGxlYXN0IGFuIGBlcnJvcmAgcHJvcGVydHkgd2hpY2ggd2lsbFxuICogYmUgdGhlIGVycm9yIGNvZGUuIEFuZCBwb3NzaWJseSBhbiBgZXJyb3JfZGVzY3JpcHRpb25gIHByb3BlcnR5XG4gKlxuICogU2VlOiBodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCNyZmMuc2VjdGlvbi4zLjEuMi42XG4gKi9cbnZhciBPQXV0aEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPQXV0aEVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE9BdXRoRXJyb3IoZXJyb3IsIGVycm9yX2Rlc2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVycm9yX2Rlc2NyaXB0aW9uICE9PSBudWxsICYmIGVycm9yX2Rlc2NyaXB0aW9uICE9PSB2b2lkIDAgPyBlcnJvcl9kZXNjcmlwdGlvbiA6IGVycm9yKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5lcnJvciA9IGVycm9yO1xuICAgICAgICBfdGhpcy5lcnJvcl9kZXNjcmlwdGlvbiA9IGVycm9yX2Rlc2NyaXB0aW9uO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQtd2lraS9ibG9iL21hc3Rlci9CcmVha2luZy1DaGFuZ2VzLm1kI2V4dGVuZGluZy1idWlsdC1pbnMtbGlrZS1lcnJvci1hcnJheS1hbmQtbWFwLW1heS1uby1sb25nZXItd29ya1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIE9BdXRoRXJyb3IucHJvdG90eXBlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gT0F1dGhFcnJvcjtcbn0oRXJyb3IpKTtcblxudmFyIENPREVfUkUgPSAvWz8mXWNvZGU9W14mXSsvO1xudmFyIFNUQVRFX1JFID0gL1s/Jl1zdGF0ZT1bXiZdKy87XG52YXIgRVJST1JfUkUgPSAvWz8mXWVycm9yPVteJl0rLztcbnZhciBoYXNBdXRoUGFyYW1zID0gZnVuY3Rpb24gKHNlYXJjaFBhcmFtcykge1xuICAgIGlmIChzZWFyY2hQYXJhbXMgPT09IHZvaWQgMCkgeyBzZWFyY2hQYXJhbXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoOyB9XG4gICAgcmV0dXJuIChDT0RFX1JFLnRlc3Qoc2VhcmNoUGFyYW1zKSB8fCBFUlJPUl9SRS50ZXN0KHNlYXJjaFBhcmFtcykpICYmXG4gICAgICAgIFNUQVRFX1JFLnRlc3Qoc2VhcmNoUGFyYW1zKTtcbn07XG52YXIgbm9ybWFsaXplRXJyb3JGbiA9IGZ1bmN0aW9uIChmYWxsYmFja01lc3NhZ2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHJ5IHRvIGNoZWNrIGVycm9ycyBvZiB0aGUgZm9sbG93aW5nIGZvcm06IHtlcnJvcjogc3RyaW5nOyBlcnJvcl9kZXNjcmlwdGlvbj86IHN0cmluZ31cbiAgICAgICAgaWYgKGVycm9yICE9PSBudWxsICYmXG4gICAgICAgICAgICB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAnZXJyb3InIGluIGVycm9yICYmXG4gICAgICAgICAgICB0eXBlb2YgZXJyb3IuZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoJ2Vycm9yX2Rlc2NyaXB0aW9uJyBpbiBlcnJvciAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBlcnJvci5lcnJvcl9kZXNjcmlwdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE9BdXRoRXJyb3IoZXJyb3IuZXJyb3IsIGVycm9yLmVycm9yX2Rlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgT0F1dGhFcnJvcihlcnJvci5lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihmYWxsYmFja01lc3NhZ2UpO1xuICAgIH07XG59O1xudmFyIGxvZ2luRXJyb3IgPSBub3JtYWxpemVFcnJvckZuKCdMb2dpbiBmYWlsZWQnKTtcbnZhciB0b2tlbkVycm9yID0gbm9ybWFsaXplRXJyb3JGbignR2V0IGFjY2VzcyB0b2tlbiBmYWlsZWQnKTtcbi8qKlxuICogQGlnbm9yZVxuICogSGVscGVyIGZ1bmN0aW9uIHRvIG1hcCB0aGUgdjEgYHJlZGlyZWN0VXJpYCBvcHRpb24gdG8gdGhlIHYyIGBhdXRob3JpemF0aW9uUGFyYW1zLnJlZGlyZWN0X3VyaWBcbiAqIGFuZCBsb2cgYSB3YXJuaW5nLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxudmFyIGRlcHJlY2F0ZVJlZGlyZWN0VXJpID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmVkaXJlY3RVcmkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdVc2luZyBgcmVkaXJlY3RVcmlgIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYGF1dGhvcml6YXRpb25QYXJhbXMucmVkaXJlY3RfdXJpYCBpbnN0ZWFkIGFzIGByZWRpcmVjdFVyaWAgd2lsbCBiZSBubyBsb25nZXIgc3VwcG9ydGVkIGluIGEgZnV0dXJlIHZlcnNpb24nKTtcbiAgICAgICAgb3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1zID0gKF9hID0gb3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1zKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fTtcbiAgICAgICAgb3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1zLnJlZGlyZWN0X3VyaSA9IG9wdGlvbnMucmVkaXJlY3RVcmk7XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLnJlZGlyZWN0VXJpO1xuICAgIH1cbiAgICBpZiAoKF9iID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZWRpcmVjdFVyaSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1VzaW5nIGBhdXRob3JpemF0aW9uUGFyYW1zLnJlZGlyZWN0VXJpYCBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGBhdXRob3JpemF0aW9uUGFyYW1zLnJlZGlyZWN0X3VyaWAgaW5zdGVhZCBhcyBgYXV0aG9yaXphdGlvblBhcmFtcy5yZWRpcmVjdFVyaWAgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24nKTtcbiAgICAgICAgb3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1zLnJlZGlyZWN0X3VyaSA9XG4gICAgICAgICAgICBvcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXMucmVkaXJlY3RVcmk7XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXMucmVkaXJlY3RVcmk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBIYW5kbGVzIGhvdyB0aGF0IHN0YXRlIGNoYW5nZXMgaW4gdGhlIGB1c2VBdXRoMGAgaG9vay5cbiAqL1xudmFyIHJlZHVjZXIgPSBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnTE9HSU5fUE9QVVBfU1RBUlRFRCc6XG4gICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YXRlKSwgeyBpc0xvYWRpbmc6IHRydWUgfSk7XG4gICAgICAgIGNhc2UgJ0xPR0lOX1BPUFVQX0NPTVBMRVRFJzpcbiAgICAgICAgY2FzZSAnSU5JVElBTElTRUQnOlxuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBzdGF0ZSksIHsgaXNBdXRoZW50aWNhdGVkOiAhIWFjdGlvbi51c2VyLCB1c2VyOiBhY3Rpb24udXNlciwgaXNMb2FkaW5nOiBmYWxzZSwgZXJyb3I6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgY2FzZSAnSEFORExFX1JFRElSRUNUX0NPTVBMRVRFJzpcbiAgICAgICAgY2FzZSAnR0VUX0FDQ0VTU19UT0tFTl9DT01QTEVURSc6XG4gICAgICAgICAgICBpZiAoc3RhdGUudXNlciA9PT0gYWN0aW9uLnVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YXRlKSwgeyBpc0F1dGhlbnRpY2F0ZWQ6ICEhYWN0aW9uLnVzZXIsIHVzZXI6IGFjdGlvbi51c2VyIH0pO1xuICAgICAgICBjYXNlICdMT0dPVVQnOlxuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBzdGF0ZSksIHsgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSwgdXNlcjogdW5kZWZpbmVkIH0pO1xuICAgICAgICBjYXNlICdFUlJPUic6XG4gICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YXRlKSwgeyBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvcjogYWN0aW9uLmVycm9yIH0pO1xuICAgIH1cbn07XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG52YXIgdG9BdXRoMENsaWVudE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0cykge1xuICAgIGRlcHJlY2F0ZVJlZGlyZWN0VXJpKG9wdHMpO1xuICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0cyksIHsgYXV0aDBDbGllbnQ6IHtcbiAgICAgICAgICAgIG5hbWU6ICdhdXRoMC1yZWFjdCcsXG4gICAgICAgICAgICB2ZXJzaW9uOiAnMi40LjAnLFxuICAgICAgICB9IH0pO1xufTtcbi8qKlxuICogQGlnbm9yZVxuICovXG52YXIgZGVmYXVsdE9uUmVkaXJlY3RDYWxsYmFjayA9IGZ1bmN0aW9uIChhcHBTdGF0ZSkge1xuICAgIHZhciBfYTtcbiAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sIGRvY3VtZW50LnRpdGxlLCAoX2EgPSBhcHBTdGF0ZSA9PT0gbnVsbCB8fCBhcHBTdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYXBwU3RhdGUucmV0dXJuVG8pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7XG59O1xuLyoqXG4gKiBgYGBqc3hcbiAqIDxBdXRoMFByb3ZpZGVyXG4gKiAgIGRvbWFpbj17ZG9tYWlufVxuICogICBjbGllbnRJZD17Y2xpZW50SWR9XG4gKiAgIGF1dGhvcml6YXRpb25QYXJhbXM9e3sgcmVkaXJlY3RfdXJpOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luIH19PlxuICogICA8TXlBcHAgLz5cbiAqIDwvQXV0aDBQcm92aWRlcj5cbiAqIGBgYFxuICpcbiAqIFByb3ZpZGVzIHRoZSBBdXRoMENvbnRleHQgdG8gaXRzIGNoaWxkIGNvbXBvbmVudHMuXG4gKi9cbnZhciBBdXRoMFByb3ZpZGVyID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBvcHRzLmNoaWxkcmVuLCBza2lwUmVkaXJlY3RDYWxsYmFjayA9IG9wdHMuc2tpcFJlZGlyZWN0Q2FsbGJhY2ssIF9hID0gb3B0cy5vblJlZGlyZWN0Q2FsbGJhY2ssIG9uUmVkaXJlY3RDYWxsYmFjayA9IF9hID09PSB2b2lkIDAgPyBkZWZhdWx0T25SZWRpcmVjdENhbGxiYWNrIDogX2EsIF9iID0gb3B0cy5jb250ZXh0LCBjb250ZXh0ID0gX2IgPT09IHZvaWQgMCA/IEF1dGgwQ29udGV4dCA6IF9iLCBjbGllbnRPcHRzID0gX19yZXN0KG9wdHMsIFtcImNoaWxkcmVuXCIsIFwic2tpcFJlZGlyZWN0Q2FsbGJhY2tcIiwgXCJvblJlZGlyZWN0Q2FsbGJhY2tcIiwgXCJjb250ZXh0XCJdKTtcbiAgICB2YXIgY2xpZW50ID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IHRlKHRvQXV0aDBDbGllbnRPcHRpb25zKGNsaWVudE9wdHMpKTsgfSlbMF07XG4gICAgdmFyIF9jID0gdXNlUmVkdWNlcigocmVkdWNlciksIGluaXRpYWxBdXRoU3RhdGUpLCBzdGF0ZSA9IF9jWzBdLCBkaXNwYXRjaCA9IF9jWzFdO1xuICAgIHZhciBkaWRJbml0aWFsaXNlID0gdXNlUmVmKGZhbHNlKTtcbiAgICB2YXIgaGFuZGxlRXJyb3IgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnRVJST1InLCBlcnJvcjogZXJyb3IgfSk7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9LCBbXSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGRpZEluaXRpYWxpc2UuY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRpZEluaXRpYWxpc2UuY3VycmVudCA9IHRydWU7XG4gICAgICAgIChmdW5jdGlvbiAoKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHVzZXIsIGFwcFN0YXRlLCBlcnJvcl8xO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFswLCA3LCAsIDhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShoYXNBdXRoUGFyYW1zKCkgJiYgIXNraXBSZWRpcmVjdENhbGxiYWNrKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjbGllbnQuaGFuZGxlUmVkaXJlY3RDYWxsYmFjaygpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwU3RhdGUgPSAoX2Euc2VudCgpKS5hcHBTdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNsaWVudC5nZXRVc2VyKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25SZWRpcmVjdENhbGxiYWNrKGFwcFN0YXRlLCB1c2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbNCAvKnlpZWxkKi8sIGNsaWVudC5jaGVja1Nlc3Npb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNsaWVudC5nZXRVc2VyKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA2O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdJTklUSUFMSVNFRCcsIHVzZXI6IHVzZXIgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMSA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGxvZ2luRXJyb3IoZXJyb3JfMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTsgfSkoKTtcbiAgICB9LCBbY2xpZW50LCBvblJlZGlyZWN0Q2FsbGJhY2ssIHNraXBSZWRpcmVjdENhbGxiYWNrLCBoYW5kbGVFcnJvcl0pO1xuICAgIHZhciBsb2dpbldpdGhSZWRpcmVjdCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChvcHRzKSB7XG4gICAgICAgIGRlcHJlY2F0ZVJlZGlyZWN0VXJpKG9wdHMpO1xuICAgICAgICByZXR1cm4gY2xpZW50LmxvZ2luV2l0aFJlZGlyZWN0KG9wdHMpO1xuICAgIH0sIFtjbGllbnRdKTtcbiAgICB2YXIgbG9naW5XaXRoUG9wdXAgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAob3B0aW9ucywgY29uZmlnKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXJyb3JfMiwgdXNlcjtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnTE9HSU5fUE9QVVBfU1RBUlRFRCcgfSk7XG4gICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNsaWVudC5sb2dpbldpdGhQb3B1cChvcHRpb25zLCBjb25maWcpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBlcnJvcl8yID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihsb2dpbkVycm9yKGVycm9yXzIpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFs0IC8qeWllbGQqLywgY2xpZW50LmdldFVzZXIoKV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICB1c2VyID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdMT0dJTl9QT1BVUF9DT01QTEVURScsIHVzZXI6IHVzZXIgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7IH0sIFtjbGllbnQsIGhhbmRsZUVycm9yXSk7XG4gICAgdmFyIGxvZ291dCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3NfMSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc18xW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIGFyZ3NfMSwgdHJ1ZSksIHZvaWQgMCwgZnVuY3Rpb24gKG9wdHMpIHtcbiAgICAgICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGNsaWVudC5sb2dvdXQob3B0cyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5vcGVuVXJsIHx8IG9wdHMub3BlblVybCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdMT0dPVVQnIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LCBbY2xpZW50XSk7XG4gICAgdmFyIGdldEFjY2Vzc1Rva2VuU2lsZW50bHkgPSB1c2VDYWxsYmFjayhcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGZ1bmN0aW9uIChvcHRzKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG9rZW4sIGVycm9yXzMsIF9hO1xuICAgICAgICB2YXIgX2I7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIF9jLnRyeXMucHVzaChbMCwgMiwgMywgNV0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjbGllbnQuZ2V0VG9rZW5TaWxlbnRseShvcHRzKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBlcnJvcl8zID0gX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyB0b2tlbkVycm9yKGVycm9yXzMpO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgX2EgPSBkaXNwYXRjaDtcbiAgICAgICAgICAgICAgICAgICAgX2IgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnR0VUX0FDQ0VTU19UT0tFTl9DT01QTEVURSdcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY2xpZW50LmdldFVzZXIoKV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBfYS5hcHBseSh2b2lkIDAsIFsoX2IudXNlciA9IF9jLnNlbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYildKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbMiAvKnJldHVybiovLCB0b2tlbl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pOyB9LCBbY2xpZW50XSk7XG4gICAgdmFyIGdldEFjY2Vzc1Rva2VuV2l0aFBvcHVwID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKG9wdHMsIGNvbmZpZykgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRva2VuLCBlcnJvcl80LCBfYTtcbiAgICAgICAgdmFyIF9iO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBfYy50cnlzLnB1c2goWzAsIDIsIDMsIDVdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY2xpZW50LmdldFRva2VuV2l0aFBvcHVwKG9wdHMsIGNvbmZpZyldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JfNCA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgdG9rZW5FcnJvcihlcnJvcl80KTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIF9hID0gZGlzcGF0Y2g7XG4gICAgICAgICAgICAgICAgICAgIF9iID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0dFVF9BQ0NFU1NfVE9LRU5fQ09NUExFVEUnXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNsaWVudC5nZXRVc2VyKCldO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgX2EuYXBwbHkodm9pZCAwLCBbKF9iLnVzZXIgPSBfYy5zZW50KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IpXSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qLywgdG9rZW5dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTsgfSwgW2NsaWVudF0pO1xuICAgIHZhciBnZXRJZFRva2VuQ2xhaW1zID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xpZW50LmdldElkVG9rZW5DbGFpbXMoKTsgfSwgW2NsaWVudF0pO1xuICAgIHZhciBoYW5kbGVSZWRpcmVjdENhbGxiYWNrID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHVybCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVycm9yXzUsIF9hO1xuICAgICAgICB2YXIgX2I7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIF9jLnRyeXMucHVzaChbMCwgMiwgMywgNV0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjbGllbnQuaGFuZGxlUmVkaXJlY3RDYWxsYmFjayh1cmwpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYy5zZW50KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JfNSA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgdG9rZW5FcnJvcihlcnJvcl81KTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIF9hID0gZGlzcGF0Y2g7XG4gICAgICAgICAgICAgICAgICAgIF9iID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0hBTkRMRV9SRURJUkVDVF9DT01QTEVURSdcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY2xpZW50LmdldFVzZXIoKV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBfYS5hcHBseSh2b2lkIDAsIFsoX2IudXNlciA9IF9jLnNlbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYildKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7IH0sIFtjbGllbnRdKTtcbiAgICB2YXIgY29udGV4dFZhbHVlID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc3RhdGUpLCB7IGdldEFjY2Vzc1Rva2VuU2lsZW50bHk6IGdldEFjY2Vzc1Rva2VuU2lsZW50bHksIGdldEFjY2Vzc1Rva2VuV2l0aFBvcHVwOiBnZXRBY2Nlc3NUb2tlbldpdGhQb3B1cCwgZ2V0SWRUb2tlbkNsYWltczogZ2V0SWRUb2tlbkNsYWltcywgbG9naW5XaXRoUmVkaXJlY3Q6IGxvZ2luV2l0aFJlZGlyZWN0LCBsb2dpbldpdGhQb3B1cDogbG9naW5XaXRoUG9wdXAsIGxvZ291dDogbG9nb3V0LCBoYW5kbGVSZWRpcmVjdENhbGxiYWNrOiBoYW5kbGVSZWRpcmVjdENhbGxiYWNrIH0pO1xuICAgIH0sIFtcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGdldEFjY2Vzc1Rva2VuU2lsZW50bHksXG4gICAgICAgIGdldEFjY2Vzc1Rva2VuV2l0aFBvcHVwLFxuICAgICAgICBnZXRJZFRva2VuQ2xhaW1zLFxuICAgICAgICBsb2dpbldpdGhSZWRpcmVjdCxcbiAgICAgICAgbG9naW5XaXRoUG9wdXAsXG4gICAgICAgIGxvZ291dCxcbiAgICAgICAgaGFuZGxlUmVkaXJlY3RDYWxsYmFjayxcbiAgICBdKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChjb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0VmFsdWUgfSwgY2hpbGRyZW4pO1xufTtcblxuLyoqXG4gKiBgYGBqc1xuICogY29uc3Qge1xuICogICAvLyBBdXRoIHN0YXRlOlxuICogICBlcnJvcixcbiAqICAgaXNBdXRoZW50aWNhdGVkLFxuICogICBpc0xvYWRpbmcsXG4gKiAgIHVzZXIsXG4gKiAgIC8vIEF1dGggbWV0aG9kczpcbiAqICAgZ2V0QWNjZXNzVG9rZW5TaWxlbnRseSxcbiAqICAgZ2V0QWNjZXNzVG9rZW5XaXRoUG9wdXAsXG4gKiAgIGdldElkVG9rZW5DbGFpbXMsXG4gKiAgIGxvZ2luV2l0aFJlZGlyZWN0LFxuICogICBsb2dpbldpdGhQb3B1cCxcbiAqICAgbG9nb3V0LFxuICogfSA9IHVzZUF1dGgwPFRVc2VyPigpO1xuICogYGBgXG4gKlxuICogVXNlIHRoZSBgdXNlQXV0aDBgIGhvb2sgaW4geW91ciBjb21wb25lbnRzIHRvIGFjY2VzcyB0aGUgYXV0aCBzdGF0ZSBhbmQgbWV0aG9kcy5cbiAqXG4gKiBUVXNlciBpcyBhbiBvcHRpb25hbCB0eXBlIHBhcmFtIHRvIHByb3ZpZGUgYSB0eXBlIHRvIHRoZSBgdXNlcmAgZmllbGQuXG4gKi9cbnZhciB1c2VBdXRoMCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gQXV0aDBDb250ZXh0OyB9XG4gICAgcmV0dXJuIHVzZUNvbnRleHQoY29udGV4dCk7XG59O1xuXG4vKipcbiAqIGBgYGpzeFxuICogY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICogICByZW5kZXIoKSB7XG4gKiAgICAgLy8gQWNjZXNzIHRoZSBhdXRoIGNvbnRleHQgZnJvbSB0aGUgYGF1dGgwYCBwcm9wXG4gKiAgICAgY29uc3QgeyB1c2VyIH0gPSB0aGlzLnByb3BzLmF1dGgwO1xuICogICAgIHJldHVybiA8ZGl2PkhlbGxvIHt1c2VyLm5hbWV9ITwvZGl2PlxuICogICB9XG4gKiB9XG4gKiAvLyBXcmFwIHlvdXIgY2xhc3MgY29tcG9uZW50IGluIHdpdGhBdXRoMFxuICogZXhwb3J0IGRlZmF1bHQgd2l0aEF1dGgwKE15Q29tcG9uZW50KTtcbiAqIGBgYFxuICpcbiAqIFdyYXAgeW91ciBjbGFzcyBjb21wb25lbnRzIGluIHRoaXMgSGlnaGVyIE9yZGVyIENvbXBvbmVudCB0byBnaXZlIHRoZW0gYWNjZXNzIHRvIHRoZSBBdXRoMENvbnRleHQuXG4gKlxuICogUHJvdmlkaW5nIGEgY29udGV4dCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGFsbG93cyB5b3UgdG8gY29uZmlndXJlIHRoZSBBdXRoMFByb3ZpZGVyIHRoZSBBdXRoMENvbnRleHRcbiAqIHNob3VsZCBjb21lIGZyb20gZiB5b3UgaGF2ZSBtdWx0aXBsZSB3aXRoaW4geW91ciBhcHBsaWNhdGlvbi5cbiAqL1xudmFyIHdpdGhBdXRoMCA9IGZ1bmN0aW9uIChDb21wb25lbnQsIGNvbnRleHQpIHtcbiAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBBdXRoMENvbnRleHQ7IH1cbiAgICByZXR1cm4gZnVuY3Rpb24gV2l0aEF1dGgocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KGNvbnRleHQuQ29uc3VtZXIsIG51bGwsIGZ1bmN0aW9uIChhdXRoKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9fYXNzaWduKHt9LCBwcm9wcywgeyBhdXRoMDogYXV0aCB9KSkpOyB9KSk7XG4gICAgfTtcbn07XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG52YXIgZGVmYXVsdE9uUmVkaXJlY3RpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsKTsgfTtcbi8qKlxuKiBAaWdub3JlXG4qL1xudmFyIGRlZmF1bHRPbkJlZm9yZUF1dGhlbnRpY2F0aW9uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbn0pOyB9KTsgfTtcbi8qKlxuICogQGlnbm9yZVxuICovXG52YXIgZGVmYXVsdFJldHVyblRvID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBcIlwiLmNvbmNhdCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpLmNvbmNhdCh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbn07XG4vKipcbiAqIGBgYGpzXG4gKiBjb25zdCBNeVByb3RlY3RlZENvbXBvbmVudCA9IHdpdGhBdXRoZW50aWNhdGlvblJlcXVpcmVkKE15Q29tcG9uZW50KTtcbiAqIGBgYFxuICpcbiAqIFdoZW4geW91IHdyYXAgeW91ciBjb21wb25lbnRzIGluIHRoaXMgSGlnaGVyIE9yZGVyIENvbXBvbmVudCBhbmQgYW4gYW5vbnltb3VzIHVzZXIgdmlzaXRzIHlvdXIgY29tcG9uZW50XG4gKiB0aGV5IHdpbGwgYmUgcmVkaXJlY3RlZCB0byB0aGUgbG9naW4gcGFnZTsgYWZ0ZXIgbG9naW4gdGhleSB3aWxsIGJlIHJldHVybmVkIHRvIHRoZSBwYWdlIHRoZXkgd2VyZSByZWRpcmVjdGVkIGZyb20uXG4gKi9cbnZhciB3aXRoQXV0aGVudGljYXRpb25SZXF1aXJlZCA9IGZ1bmN0aW9uIChDb21wb25lbnQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHJldHVybiBmdW5jdGlvbiBXaXRoQXV0aGVudGljYXRpb25SZXF1aXJlZChwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zLnJldHVyblRvLCByZXR1cm5UbyA9IF9hID09PSB2b2lkIDAgPyBkZWZhdWx0UmV0dXJuVG8gOiBfYSwgX2IgPSBvcHRpb25zLm9uUmVkaXJlY3RpbmcsIG9uUmVkaXJlY3RpbmcgPSBfYiA9PT0gdm9pZCAwID8gZGVmYXVsdE9uUmVkaXJlY3RpbmcgOiBfYiwgX2MgPSBvcHRpb25zLm9uQmVmb3JlQXV0aGVudGljYXRpb24sIG9uQmVmb3JlQXV0aGVudGljYXRpb24gPSBfYyA9PT0gdm9pZCAwID8gZGVmYXVsdE9uQmVmb3JlQXV0aGVudGljYXRpb24gOiBfYywgbG9naW5PcHRpb25zID0gb3B0aW9ucy5sb2dpbk9wdGlvbnMsIF9kID0gb3B0aW9ucy5jb250ZXh0LCBjb250ZXh0ID0gX2QgPT09IHZvaWQgMCA/IEF1dGgwQ29udGV4dCA6IF9kO1xuICAgICAgICB2YXIgX2UgPSB1c2VBdXRoMChjb250ZXh0KSwgaXNBdXRoZW50aWNhdGVkID0gX2UuaXNBdXRoZW50aWNhdGVkLCBpc0xvYWRpbmcgPSBfZS5pc0xvYWRpbmcsIGxvZ2luV2l0aFJlZGlyZWN0ID0gX2UubG9naW5XaXRoUmVkaXJlY3Q7XG4gICAgICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaXNMb2FkaW5nIHx8IGlzQXV0aGVudGljYXRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvcHRzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGxvZ2luT3B0aW9ucyksIHsgYXBwU3RhdGU6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBsb2dpbk9wdGlvbnMgPT09IG51bGwgfHwgbG9naW5PcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsb2dpbk9wdGlvbnMuYXBwU3RhdGUpLCB7IHJldHVyblRvOiB0eXBlb2YgcmV0dXJuVG8gPT09ICdmdW5jdGlvbicgPyByZXR1cm5UbygpIDogcmV0dXJuVG8gfSkgfSk7XG4gICAgICAgICAgICB2b2lkIChmdW5jdGlvbiAoKSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIG9uQmVmb3JlQXV0aGVudGljYXRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGxvZ2luV2l0aFJlZGlyZWN0KG9wdHMpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTsgfSkoKTtcbiAgICAgICAgfSwgW1xuICAgICAgICAgICAgaXNMb2FkaW5nLFxuICAgICAgICAgICAgaXNBdXRoZW50aWNhdGVkLFxuICAgICAgICAgICAgbG9naW5XaXRoUmVkaXJlY3QsXG4gICAgICAgICAgICBvbkJlZm9yZUF1dGhlbnRpY2F0aW9uLFxuICAgICAgICAgICAgbG9naW5PcHRpb25zLFxuICAgICAgICAgICAgcmV0dXJuVG8sXG4gICAgICAgIF0pO1xuICAgICAgICByZXR1cm4gaXNBdXRoZW50aWNhdGVkID8gUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9fYXNzaWduKHt9LCBwcm9wcykpIDogb25SZWRpcmVjdGluZygpO1xuICAgIH07XG59O1xuXG5leHBvcnQgeyBBdXRoMENvbnRleHQsIEF1dGgwUHJvdmlkZXIsIGQgYXMgQXV0aGVudGljYXRpb25FcnJvciwgdSBhcyBHZW5lcmljRXJyb3IsIFAgYXMgSW5NZW1vcnlDYWNoZSwgQyBhcyBMb2NhbFN0b3JhZ2VDYWNoZSwgbSBhcyBNZmFSZXF1aXJlZEVycm9yLCBmIGFzIE1pc3NpbmdSZWZyZXNoVG9rZW5FcnJvciwgT0F1dGhFcnJvciwgcCBhcyBQb3B1cENhbmNlbGxlZEVycm9yLCBoIGFzIFBvcHVwVGltZW91dEVycm9yLCBsIGFzIFRpbWVvdXRFcnJvciwgaWUgYXMgVXNlciwgaW5pdGlhbENvbnRleHQsIHVzZUF1dGgwLCB3aXRoQXV0aDAsIHdpdGhBdXRoZW50aWNhdGlvblJlcXVpcmVkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdXRoMC1yZWFjdC5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@auth0/auth0-react/dist/auth0-react.esm.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/gallery/page.js":
/*!*****************************!*\
  !*** ./app/gallery/page.js ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ GalleryPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_masonry_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-masonry-css */ \"(app-pages-browser)/./node_modules/react-masonry-css/dist/react-masonry-css.module.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var _components_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/button */ \"(app-pages-browser)/./components/button.jsx\");\n/* harmony import */ var _auth0_auth0_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @auth0/auth0-react */ \"(app-pages-browser)/./node_modules/@auth0/auth0-react/dist/auth0-react.esm.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n // Add this import\nconst breakpointColumnsObj = {\n    default: 3,\n    1100: 3,\n    700: 2,\n    500: 1\n};\nconst LIMIT = 6;\nfunction GalleryPage() {\n    _s();\n    const [images, setImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [page, setPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [hasMore, setHasMore] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const observer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { isAuthenticated, loginWithRedirect } = (0,_auth0_auth0_react__WEBPACK_IMPORTED_MODULE_6__.useAuth0)(); // Add this line\n    const fetchImages = async ()=>{\n        if (loading || !hasMore) return;\n        setLoading(true);\n        try {\n            var _data_images;\n            const res = await fetch(\"/api/images?page=\".concat(page, \"&limit=\").concat(LIMIT));\n            const data = await res.json();\n            if ((data === null || data === void 0 ? void 0 : (_data_images = data.images) === null || _data_images === void 0 ? void 0 : _data_images.length) > 0) {\n                // Avoid adding duplicates\n                setImages((prev)=>{\n                    const seen = new Set(prev.map((img)=>img.url));\n                    const uniqueNewImages = data.images.filter((img)=>!seen.has(img.url));\n                    return [\n                        ...prev,\n                        ...uniqueNewImages\n                    ];\n                });\n            }\n            setHasMore(data.hasMore);\n            setPage((prev)=>prev + 1);\n        } catch (err) {\n            console.error(\"Failed to load images\", err);\n        } finally{\n            setLoading(false);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchImages();\n        console.log(\"Fetching page \".concat(page));\n    }, []);\n    const lastImageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((node)=>{\n        if (loading) return;\n        if (observer.current) observer.current.disconnect();\n        observer.current = new IntersectionObserver((entries)=>{\n            if (entries[0].isIntersecting && hasMore) {\n                fetchImages();\n            }\n        });\n        if (node) observer.current.observe(node);\n    }, [\n        loading,\n        hasMore\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n        className: \"min-h-screen p-4 bg-gradient-to-br from-blue-50 to-green-50\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"flex justify-between items-center mb-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                        href: \"/\",\n                        passHref: true,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                            variant: \"outline\",\n                            size: \"sm\",\n                            className: \"flex items-center border-blue-200 text-blue-600 hover:bg-blue-50 bg-transparent\",\n                            children: \"← Home\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Rayyan\\\\Internship\\\\experiment\\\\my-react-app\\\\app\\\\gallery\\\\page.js\",\n                            lineNumber: 79,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Rayyan\\\\Internship\\\\experiment\\\\my-react-app\\\\app\\\\gallery\\\\page.js\",\n                        lineNumber: 78,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                        variant: \"default\",\n                        size: \"sm\",\n                        className: \"bg-blue-600 text-white hover:bg-blue-700\",\n                        onClick: ()=>{\n                            if (isAuthenticated) {\n                                window.location.href = \"/submit-page\";\n                            } else {\n                                loginWithRedirect({\n                                    appState: {\n                                        returnTo: \"/submit-page\"\n                                    }\n                                });\n                            }\n                        },\n                        children: \"+ Submit Design\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Rayyan\\\\Internship\\\\experiment\\\\my-react-app\\\\app\\\\gallery\\\\page.js\",\n                        lineNumber: 88,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Rayyan\\\\Internship\\\\experiment\\\\my-react-app\\\\app\\\\gallery\\\\page.js\",\n                lineNumber: 77,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                className: \"text-4xl font-bold text-center mb-8 text-blue-600\",\n                children: \"Design Gallery\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Rayyan\\\\Internship\\\\experiment\\\\my-react-app\\\\app\\\\gallery\\\\page.js\",\n                lineNumber: 106,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_masonry_css__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                breakpointCols: breakpointColumnsObj,\n                className: \"flex gap-6\",\n                columnClassName: \"flex flex-col gap-6\",\n                children: images.map((image, i)=>{\n                    var _image_position, _image_position1, _image_size, _image_size1;\n                    const isLast = i === images.length - 1;\n                    var _image_position_y, _image_position_x, _image_size_width, _image_size_height;\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: isLast ? lastImageRef : null,\n                        className: \"relative w-full h-[350px] bg-white rounded-xl overflow-hidden shadow-lg max-w-[600px] mx-auto\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                src: \"/tshirt.jpg\",\n                                alt: \"T-shirt\",\n                                width: 350,\n                                height: 350,\n                                className: \"w-full h-full object-cover\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Rayyan\\\\Internship\\\\experiment\\\\my-react-app\\\\app\\\\gallery\\\\page.js\",\n                                lineNumber: 124,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute\",\n                                style: {\n                                    top: \"\".concat((_image_position_y = (_image_position = image.position) === null || _image_position === void 0 ? void 0 : _image_position.y) !== null && _image_position_y !== void 0 ? _image_position_y : 30, \"%\"),\n                                    left: \"\".concat((_image_position_x = (_image_position1 = image.position) === null || _image_position1 === void 0 ? void 0 : _image_position1.x) !== null && _image_position_x !== void 0 ? _image_position_x : 30, \"%\"),\n                                    width: \"\".concat((_image_size_width = (_image_size = image.size) === null || _image_size === void 0 ? void 0 : _image_size.width) !== null && _image_size_width !== void 0 ? _image_size_width : 40, \"%\"),\n                                    height: \"\".concat((_image_size_height = (_image_size1 = image.size) === null || _image_size1 === void 0 ? void 0 : _image_size1.height) !== null && _image_size_height !== void 0 ? _image_size_height : 40, \"%\"),\n                                    transform: \"translate(-0%, 0%)\",\n                                    zIndex: 10\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    src: image.url,\n                                    alt: \"User Design\",\n                                    width: 350,\n                                    height: 350,\n                                    className: \"w-full h-full object-contain\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Rayyan\\\\Internship\\\\experiment\\\\my-react-app\\\\app\\\\gallery\\\\page.js\",\n                                    lineNumber: 144,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Rayyan\\\\Internship\\\\experiment\\\\my-react-app\\\\app\\\\gallery\\\\page.js\",\n                                lineNumber: 133,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, i, true, {\n                        fileName: \"C:\\\\Rayyan\\\\Internship\\\\experiment\\\\my-react-app\\\\app\\\\gallery\\\\page.js\",\n                        lineNumber: 118,\n                        columnNumber: 13\n                    }, this);\n                })\n            }, void 0, false, {\n                fileName: \"C:\\\\Rayyan\\\\Internship\\\\experiment\\\\my-react-app\\\\app\\\\gallery\\\\page.js\",\n                lineNumber: 110,\n                columnNumber: 7\n            }, this),\n            loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center py-8 text-blue-500 font-semibold\",\n                children: \"Loading more designs...\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Rayyan\\\\Internship\\\\experiment\\\\my-react-app\\\\app\\\\gallery\\\\page.js\",\n                lineNumber: 157,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Rayyan\\\\Internship\\\\experiment\\\\my-react-app\\\\app\\\\gallery\\\\page.js\",\n        lineNumber: 76,\n        columnNumber: 5\n    }, this);\n}\n_s(GalleryPage, \"sOYHow7Fz1fd1Dae5VBMSXQ7wK4=\", false, function() {\n    return [\n        _auth0_auth0_react__WEBPACK_IMPORTED_MODULE_6__.useAuth0\n    ];\n});\n_c = GalleryPage;\nvar _c;\n$RefreshReg$(_c, \"GalleryPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXpCUixDQUFBQSxzQkFBQUEsZUFBQUEsTUFBTVQsSUFBSSxjQUFWUyxtQ0FBQUEsYUFBWVEsTUFBTSxjQUFsQlIsZ0NBQUFBLHFCQUFzQixJQUFHO29DQUNwQ2UsV0FBVztvQ0FDWEMsUUFBUTtnQ0FDVjswQ0FFQSw0RUFBQzdFLGtEQUFLQTtvQ0FDSmtFLEtBQUtMLE1BQU0vQixHQUFHO29DQUNkcUMsS0FBSTtvQ0FDSkMsT0FBTztvQ0FDUEMsUUFBUTtvQ0FDUnRCLFdBQVU7Ozs7Ozs7Ozs7Ozt1QkE5QlRlOzs7OztnQkFtQ1g7Ozs7OztZQUVEL0MseUJBQ0MsOERBQUNpRDtnQkFBSWpCLFdBQVU7MEJBQStDOzs7Ozs7Ozs7Ozs7QUFNdEU7R0FqSndCeEM7O1FBTXlCSix3REFBUUE7OztLQU5qQ0kiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL2dhbGxlcnkvcGFnZS5qcz9kMDdkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgTWFzb25yeSBmcm9tIFwicmVhY3QtbWFzb25yeS1jc3NcIjtcclxuaW1wb3J0IEltYWdlIGZyb20gXCJuZXh0L2ltYWdlXCI7XHJcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy9idXR0b25cIjtcclxuaW1wb3J0IHsgdXNlQXV0aDAgfSBmcm9tIFwiQGF1dGgwL2F1dGgwLXJlYWN0XCI7IC8vIEFkZCB0aGlzIGltcG9ydFxyXG5cclxuY29uc3QgYnJlYWtwb2ludENvbHVtbnNPYmogPSB7XHJcbiAgZGVmYXVsdDogMyxcclxuICAxMTAwOiAzLFxyXG4gIDcwMDogMixcclxuICA1MDA6IDEsXHJcbn07XHJcblxyXG5jb25zdCBMSU1JVCA9IDY7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHYWxsZXJ5UGFnZSgpIHtcclxuICBjb25zdCBbaW1hZ2VzLCBzZXRJbWFnZXNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtwYWdlLCBzZXRQYWdlXSA9IHVzZVN0YXRlKDEpO1xyXG4gIGNvbnN0IFtoYXNNb3JlLCBzZXRIYXNNb3JlXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4gIGNvbnN0IG9ic2VydmVyID0gdXNlUmVmKCk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IHsgaXNBdXRoZW50aWNhdGVkLCBsb2dpbldpdGhSZWRpcmVjdCB9ID0gdXNlQXV0aDAoKTsgLy8gQWRkIHRoaXMgbGluZVxyXG5cclxuICBjb25zdCBmZXRjaEltYWdlcyA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmIChsb2FkaW5nIHx8ICFoYXNNb3JlKSByZXR1cm47XHJcblxyXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2ltYWdlcz9wYWdlPSR7cGFnZX0mbGltaXQ9JHtMSU1JVH1gKTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcblxyXG4gICAgICBpZiAoZGF0YT8uaW1hZ2VzPy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgLy8gQXZvaWQgYWRkaW5nIGR1cGxpY2F0ZXNcclxuICAgICAgICBzZXRJbWFnZXMoKHByZXYpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0KHByZXYubWFwKChpbWcpID0+IGltZy51cmwpKTtcclxuICAgICAgICAgIGNvbnN0IHVuaXF1ZU5ld0ltYWdlcyA9IGRhdGEuaW1hZ2VzLmZpbHRlcihcclxuICAgICAgICAgICAgKGltZykgPT4gIXNlZW4uaGFzKGltZy51cmwpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcmV0dXJuIFsuLi5wcmV2LCAuLi51bmlxdWVOZXdJbWFnZXNdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRIYXNNb3JlKGRhdGEuaGFzTW9yZSk7XHJcbiAgICAgIHNldFBhZ2UoKHByZXYpID0+IHByZXYgKyAxKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgaW1hZ2VzXCIsIGVycik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZmV0Y2hJbWFnZXMoKTtcclxuICAgIGNvbnNvbGUubG9nKGBGZXRjaGluZyBwYWdlICR7cGFnZX1gKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGxhc3RJbWFnZVJlZiA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKG5vZGUpID0+IHtcclxuICAgICAgaWYgKGxvYWRpbmcpIHJldHVybjtcclxuICAgICAgaWYgKG9ic2VydmVyLmN1cnJlbnQpIG9ic2VydmVyLmN1cnJlbnQuZGlzY29ubmVjdCgpO1xyXG5cclxuICAgICAgb2JzZXJ2ZXIuY3VycmVudCA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcykgPT4ge1xyXG4gICAgICAgIGlmIChlbnRyaWVzWzBdLmlzSW50ZXJzZWN0aW5nICYmIGhhc01vcmUpIHtcclxuICAgICAgICAgIGZldGNoSW1hZ2VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChub2RlKSBvYnNlcnZlci5jdXJyZW50Lm9ic2VydmUobm9kZSk7XHJcbiAgICB9LFxyXG4gICAgW2xvYWRpbmcsIGhhc01vcmVdXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxtYWluIGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBwLTQgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwIHRvLWdyZWVuLTUwXCI+XHJcbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLThcIj5cclxuICAgICAgICA8TGluayBocmVmPVwiL1wiIHBhc3NIcmVmPlxyXG4gICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXHJcbiAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGJvcmRlci1ibHVlLTIwMCB0ZXh0LWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNTAgYmctdHJhbnNwYXJlbnRcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICDihpAgSG9tZVxyXG4gICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgPC9MaW5rPlxyXG5cclxuICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICB2YXJpYW50PVwiZGVmYXVsdFwiXHJcbiAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgdGV4dC13aGl0ZSBob3ZlcjpiZy1ibHVlLTcwMFwiXHJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQpIHtcclxuICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL3N1Ym1pdC1wYWdlXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbG9naW5XaXRoUmVkaXJlY3Qoe1xyXG4gICAgICAgICAgICAgICAgYXBwU3RhdGU6IHsgcmV0dXJuVG86IFwiL3N1Ym1pdC1wYWdlXCIgfSxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICArIFN1Ym1pdCBEZXNpZ25cclxuICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgPC9oZWFkZXI+XHJcblxyXG4gICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC00eGwgZm9udC1ib2xkIHRleHQtY2VudGVyIG1iLTggdGV4dC1ibHVlLTYwMFwiPlxyXG4gICAgICAgIERlc2lnbiBHYWxsZXJ5XHJcbiAgICAgIDwvaDE+XHJcblxyXG4gICAgICA8TWFzb25yeVxyXG4gICAgICAgIGJyZWFrcG9pbnRDb2xzPXticmVha3BvaW50Q29sdW1uc09ian1cclxuICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGdhcC02XCJcclxuICAgICAgICBjb2x1bW5DbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC02XCJcclxuICAgICAgPlxyXG4gICAgICAgIHtpbWFnZXMubWFwKChpbWFnZSwgaSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgaXNMYXN0ID0gaSA9PT0gaW1hZ2VzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAga2V5PXtpfVxyXG4gICAgICAgICAgICAgIHJlZj17aXNMYXN0ID8gbGFzdEltYWdlUmVmIDogbnVsbH1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LWZ1bGwgaC1bMzUwcHhdIGJnLXdoaXRlIHJvdW5kZWQteGwgb3ZlcmZsb3ctaGlkZGVuIHNoYWRvdy1sZyBtYXgtdy1bNjAwcHhdIG14LWF1dG9cIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgey8qIFQtc2hpcnQgbW9ja3VwICovfVxyXG4gICAgICAgICAgICAgIDxJbWFnZVxyXG4gICAgICAgICAgICAgICAgc3JjPVwiL3RzaGlydC5qcGdcIlxyXG4gICAgICAgICAgICAgICAgYWx0PVwiVC1zaGlydFwiXHJcbiAgICAgICAgICAgICAgICB3aWR0aD17MzUwfVxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0PXszNTB9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiXHJcbiAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgey8qIFVwbG9hZGVkIGRlc2lnbiBvdmVybGF5ICovfVxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIHRvcDogYCR7aW1hZ2UucG9zaXRpb24/LnkgPz8gMzB9JWAsXHJcbiAgICAgICAgICAgICAgICAgIGxlZnQ6IGAke2ltYWdlLnBvc2l0aW9uPy54ID8/IDMwfSVgLFxyXG4gICAgICAgICAgICAgICAgICB3aWR0aDogYCR7aW1hZ2Uuc2l6ZT8ud2lkdGggPz8gNDB9JWAsXHJcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogYCR7aW1hZ2Uuc2l6ZT8uaGVpZ2h0ID8/IDQwfSVgLFxyXG4gICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC0wJSwgMCUpXCIsXHJcbiAgICAgICAgICAgICAgICAgIHpJbmRleDogMTAsXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxJbWFnZVxyXG4gICAgICAgICAgICAgICAgICBzcmM9e2ltYWdlLnVybH1cclxuICAgICAgICAgICAgICAgICAgYWx0PVwiVXNlciBEZXNpZ25cIlxyXG4gICAgICAgICAgICAgICAgICB3aWR0aD17MzUwfVxyXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ9ezM1MH1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY29udGFpblwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSl9XHJcbiAgICAgIDwvTWFzb25yeT5cclxuICAgICAge2xvYWRpbmcgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktOCB0ZXh0LWJsdWUtNTAwIGZvbnQtc2VtaWJvbGRcIj5cclxuICAgICAgICAgIExvYWRpbmcgbW9yZSBkZXNpZ25zLi4uXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICA8L21haW4+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwiTWFzb25yeSIsIkltYWdlIiwiTGluayIsIkJ1dHRvbiIsInVzZUF1dGgwIiwiYnJlYWtwb2ludENvbHVtbnNPYmoiLCJkZWZhdWx0IiwiTElNSVQiLCJHYWxsZXJ5UGFnZSIsImltYWdlcyIsInNldEltYWdlcyIsInBhZ2UiLCJzZXRQYWdlIiwiaGFzTW9yZSIsInNldEhhc01vcmUiLCJvYnNlcnZlciIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiaXNBdXRoZW50aWNhdGVkIiwibG9naW5XaXRoUmVkaXJlY3QiLCJmZXRjaEltYWdlcyIsImRhdGEiLCJyZXMiLCJmZXRjaCIsImpzb24iLCJsZW5ndGgiLCJwcmV2Iiwic2VlbiIsIlNldCIsIm1hcCIsImltZyIsInVybCIsInVuaXF1ZU5ld0ltYWdlcyIsImZpbHRlciIsImhhcyIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImxvZyIsImxhc3RJbWFnZVJlZiIsIm5vZGUiLCJjdXJyZW50IiwiZGlzY29ubmVjdCIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsImlzSW50ZXJzZWN0aW5nIiwib2JzZXJ2ZSIsIm1haW4iLCJjbGFzc05hbWUiLCJoZWFkZXIiLCJocmVmIiwicGFzc0hyZWYiLCJ2YXJpYW50Iiwic2l6ZSIsIm9uQ2xpY2siLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImFwcFN0YXRlIiwicmV0dXJuVG8iLCJoMSIsImJyZWFrcG9pbnRDb2xzIiwiY29sdW1uQ2xhc3NOYW1lIiwiaW1hZ2UiLCJpIiwiaXNMYXN0IiwiZGl2IiwicmVmIiwic3JjIiwiYWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJzdHlsZSIsInRvcCIsInBvc2l0aW9uIiwieSIsImxlZnQiLCJ4IiwidHJhbnNmb3JtIiwiekluZGV4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/gallery/page.js\n"));

/***/ })

});